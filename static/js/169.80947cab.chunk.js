"use strict";(self.webpackChunklaboratory_lab=self.webpackChunklaboratory_lab||[]).push([[169],{1277:function(e,t,n){n.d(t,{Y:function(){return a}});var r=function(e){return Array.isArray(e)?e.join(", "):e},a=function(e,t){var n=[[{condition:(null===e||void 0===e?void 0:e.name.trim().length)<6,errorMessage:"Min. 6 znak\xf3w",key:"name"},{condition:(null===e||void 0===e?void 0:e.name.trim().length)>10,errorMessage:"Max. 10 znak\xf3w",key:"name"},{condition:isNaN(+e.selectMilimolles)||+e.selectMilimolles<1||+e.selectMilimolles>6,errorMessage:"Podaj liczb\u0119: 1-6",key:"selectMilimolles"},{condition:"GRAMINA"!==e.alcaloids.trim().toUpperCase()&&"KOFEINA"!==e.alcaloids.trim().toUpperCase()&&"NIKOTYNA"!==e.alcaloids.trim().toUpperCase(),errorMessage:"Podaj alkaloid",key:"alcaloids"},{condition:e.technics.trim().length<3,errorMessage:"Min. 3 znaki",key:"technics"},{condition:e.technics.trim().length>10,errorMessage:"Max. 10 znak\xf3w",key:"technics"}],[{condition:!r(e.solvents).trim().toLocaleUpperCase().includes("CH3OH")&&!r(e.solvents).trim().toLocaleUpperCase().includes("DMSO")&&!r(e.solvents).trim().toLocaleUpperCase().includes("DMF")&&!r(e.solvents).trim().toLocaleUpperCase().includes("CHCL3")&&!r(e.solvents).trim().toLocaleUpperCase().includes("C2H5OH"),errorMessage:"Rozp. z listy",key:"solvents"},{condition:"MIESZANIE"!==e.selectReactionCondition.trim().toUpperCase()&&"OGRZEWANIE"!==e.selectReactionCondition.trim().toUpperCase()&&"MIKROFALA"!==e.selectReactionCondition.trim().toUpperCase()&&"CH\u0141ODZENIE"!==e.selectReactionCondition.trim().toUpperCase(),errorMessage:"Podaj warunki",key:"selectReactionCondition"},{condition:e.substract.trim().length<3,errorMessage:"Min. 3 znaki",key:"substract"},{condition:e.substract.trim().length>10,errorMessage:"Max. 10 znak\xf3w",key:"substract"}],[{condition:!e.startDate,errorMessage:"Wymagane",key:"startDate"},{condition:!e.finishDate,errorMessage:"Wymagane",key:"finishDate"},{condition:new Date(e.startDate)>new Date(e.finishDate),errorMessage:"Data po rozpocz\u0119ciu",key:"finishDate"},{condition:!e.startTime,errorMessage:"Wymagane",key:"startTime"},{condition:!e.finishTime,errorMessage:"Wymagane",key:"finishTime"}]];return{validationForm:function(){var e={};return(void 0===t?n.flat():n[t]).forEach((function(t){var n=t.condition,r=t.errorMessage,a=t.key;n&&(e[a]=r)})),e}}}},5954:function(e,t,n){var r=n(184);t.Z=function(e){return(0,r.jsx)("div",{className:e.className,children:e.message})}},8169:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var r=n(5048),a=n(1277),i=n(1936),s=n(2791),o=n(485),c=n(9439),l=n(8816),d=[{name:"name",type:"text"},{name:"technics",type:"text"},{name:"alcaloids",type:"text"},{name:"selectMilimolles",type:"text"},{name:"substract",type:"text"},{name:"selectReactionCondition",type:"text"},{name:"solvents",type:"text"}],u=[{name:"startDate",type:"date"},{name:"finishDate",type:"date"},{name:"startTime",type:"time"},{name:"finishTime",type:"time"}],m=n(184),p=function(){var e=(0,r.I0)(),t=(0,r.v9)((function(e){return e.tableReactions})).editedReaction,n=(0,r.v9)((function(e){return e.tableReactions.toggleTable})).isOpen,s=(0,o.Os)(),p=(0,c.Z)(s,2),b=(p[0],p[1]),h=(0,o.bY)(void 0),f=(h.error,h.isLoading,(0,a.Y)(t).validationForm),x=function(t){var n=t.target,r=n.name,a=n.value;e((0,i.Cp)([r,a]))},g=n?d:u;return(0,m.jsx)(m.Fragment,{children:g.map((function(e){var n=e.type,r=e.name;return(0,m.jsxs)("td",{style:{position:"relative"},children:[(0,m.jsx)(l.Z,{label:"",type:n,name:r,value:t[r],handleChange:x,containerClass:"editForm__textInputContainer ".concat(b.error&&"editError"),labelClass:"editForm__textInputLabel",inputClass:"editForm__textInput"}),(0,m.jsx)("div",{className:"editForm__error",children:(0,m.jsx)("small",{children:f()[r]})})]},r)}))})},b=n(3433),h=function(e){var t=Object.values(e).slice(0,8);return t.shift(),t},f=function(e){var t=Object.values(e),n=[t[0]].concat((0,b.Z)(t.slice(8,12)));return n.shift(),n},x=function(e){var t=(0,o.bY)(void 0),n=(t.error,t.isLoading,(0,o.gD)()),a=(0,c.Z)(n,2),i=(a[0],a[1]),s=(0,r.v9)((function(e){return e.tableReactions.toggleTable})).isOpen,l=s?h:f;return(0,m.jsx)(m.Fragment,{children:l(e.reaction).map((function(e,t){return(0,m.jsx)("td",{className:i.error?"editError":"",children:6===t?(n=e,Array.isArray(n)?n.join(", "):n).split("").map((function(e){return isNaN(Number(e))?e:(0,m.jsx)("small",{className:"numberInCheckbox",children:e},crypto.randomUUID())})):e},crypto.randomUUID());var n}))})},g=function(e){return(0,m.jsx)("tbody",{children:(0,m.jsx)("tr",{children:(0,m.jsx)("td",{style:{margin:"0px auto",width:"fit-content"},children:e.message})})})},v=n(4165),j=n(1413),y=n(5861),k=n(8820),_=n(6355),R=n(6856),C=n(5954),M=function(e){var t=(0,r.I0)(),n=(0,r.v9)((function(e){return e.tableReactions})),s=n.editedReaction,l=n.printReactions,d=(0,a.Y)(s).validationForm,u=(0,o.gD)(),p=(0,c.Z)(u,2),b=p[0],h=p[1],f=(0,o.wF)(),x=(0,c.Z)(f,2),g=x[0],M=x[1],N=function(){var e=(0,y.Z)((0,v.Z)().mark((function e(n,r){var a;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.keys(d()).length){e.next=2;break}return e.abrupt("return");case 2:return a=(0,j.Z)((0,j.Z)({},s),{},{isEdit:!0}),t((0,i.He)([n,r])),t((0,i.IL)()),e.next=7,b(a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,y.Z)((0,v.Z)().mark((function e(t){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Chcesz usun\u0105\u0107 zapis?")){e.next=4;break}return e.next=4,g(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=(0,m.jsxs)(m.Fragment,{children:[e.reaction.isEdit?(0,m.jsx)("button",{onClick:function(){return function(e,n){t((0,i.fy)([e,n]))}(l,e.reaction.id)},className:"tableReactions__btn tableReactions__btn--edit",children:(0,m.jsx)(k.QML,{})}):(0,m.jsx)("button",{onClick:function(){return N(l,e.reaction.id)},className:"tableReactions__btn tableReactions__btn--edit",children:(0,m.jsx)(R.FTL,{})}),(0,m.jsx)("button",{onClick:function(){return Z(e.reaction.id)},className:"tableReactions__btn tableReactions__btn--trash",children:(0,m.jsx)(_.AMf,{})})]});return h.error&&"error"in h.error&&(w=(0,m.jsx)(C.Z,{message:"B\u0142\u0105d",className:"tableReactions__requestError"})),h.isLoading&&(w=(0,m.jsx)(C.Z,{message:"Wysy\u0142a...",className:"tableReactions__requestMessage"})),M.isError&&(w=(0,m.jsx)(C.Z,{message:"B\u0142\u0105d",className:"tableReactions__requestMessage"})),M.isLoading&&(w=(0,m.jsx)(C.Z,{message:"Usuwa...",className:"tableReactions__requestMessage"})),(0,m.jsx)("td",{children:w})},N=function(){var e=(0,r.I0)(),t=(0,o.bY)(void 0),n=t.data,a=t.error,c=(t.isLoading,(0,r.v9)((function(e){return e.tableReactions})).printReactions);return(0,s.useEffect)((function(){e((0,i.Ym)(n))}),[n,e]),a&&"error"in a?(0,m.jsx)(g,{message:a.error}):0===c.length?(0,m.jsx)(g,{message:"Brak zapisanych reakcji"}):(0,m.jsx)("tbody",{children:null===c||void 0===c?void 0:c.map((function(e,t){return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:t+1}),e.isEdit?(0,m.jsx)(x,{reaction:e}):(0,m.jsx)(p,{}),(0,m.jsx)(M,{reaction:e})]},e.id)}))})},Z=["Nazwa","Technika","Alkaloidy","Mole","Substrat","Warunki","Rozp."],w=["Otwarcie","Zamkni\u0119cie","Pocz\u0105tek","Koniec"],D=function(){var e=(0,r.v9)((function(e){return e.tableReactions.toggleTable})).isOpen;return(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:"nr"}),e?Z.map((function(e){return(0,m.jsx)("td",{children:e},e)})):w.map((function(e){return(0,m.jsx)("td",{children:e},crypto.randomUUID())})),(0,m.jsx)("td",{})]})})},z=function(e){return(0,m.jsx)("table",{className:"wrapper tableReactions__table",children:e.children})},U=function(){var e=(0,r.I0)(),t=(0,r.v9)((function(e){return e.tableReactions})),n=t.printReactions,s=t.editedReaction,o=(0,r.v9)((function(e){return e.tableReactions.toggleTable})).isOpen,c=(0,a.Y)(s).validationForm,l=!s.isEdit&&(c().name||c().technics||c().alcaloids||c().selectMilimolles||c().substract||c().selectReactionCondition||c().solvents)?{color:"red",text:"Uzupe\u0142nij"}:{color:"black",text:"Parametry"},d=!s.isEdit&&(c().startDate||c().finishDate||c().startTime||c().finishTime)?{color:"red",text:"Uzupe\u0142nij"}:{color:"black",text:"Czasy"};return(0,m.jsxs)("main",{className:"tableReactions__main",children:[(0,m.jsxs)("section",{className:"wrapper tableReactions__headers",children:[(0,m.jsx)("div",{onClick:function(){return e((0,i.bk)(!0))},style:{color:l.color,backgroundColor:"".concat(o?"rgb(142,151,164)":"rgb(255 255 255)")},className:"tableReactions__header",children:l.text}),(0,m.jsx)("div",{onClick:function(){return e((0,i.bk)(!1))},style:{color:d.color,backgroundColor:"".concat(o?"rgb(255 255 255)":"rgb(142,151,164)")},className:"tableReactions__header",children:d.text}),(0,m.jsx)("div",{className:"tableReactions__header  tableReactions__header--counter ",children:n.length>0?"Liczba reakcji: ".concat(n.length):""})]}),(0,m.jsxs)(z,{children:[(0,m.jsx)(D,{}),(0,m.jsx)(N,{})]})]})}}}]);
//# sourceMappingURL=169.80947cab.chunk.js.map