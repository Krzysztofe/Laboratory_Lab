"use strict";(self.webpackChunklaboratory_lab=self.webpackChunklaboratory_lab||[]).push([[930],{1277:function(e,a,n){n.d(a,{Y:function(){return t}});var t=function(e,a){var n,t,r,i,s,o,c,l=[[{condition:(null===e||void 0===e?void 0:e.name.trim().length)<6,errorMessage:"Min. 6 znak\xf3w",key:"name"},{condition:(null===e||void 0===e?void 0:e.name.trim().length)>10,errorMessage:"Max. 10 znak\xf3w",key:"name"},{condition:isNaN(+e.selectMilimolles)||+e.selectMilimolles<1||+e.selectMilimolles>6,errorMessage:"Cyfra: 1-6",key:"selectMilimolles"},{condition:"GRAMINA"!==e.alcaloids.trim().toUpperCase()&&"KOFEINA"!==e.alcaloids.trim().toUpperCase()&&"NIKOTYNA"!==e.alcaloids.trim().toUpperCase(),errorMessage:"Alkaloid z listy",key:"alcaloids"},{condition:e.technics.trim().length<3,errorMessage:"Min. 3 znaki",key:"technics"},{condition:e.technics.trim().length>10,errorMessage:"Max. 10 znak\xf3w",key:"technics"}],[{condition:!(null!==(n=e.atmosphere)&&void 0!==n&&n.trim().toLocaleUpperCase().includes("PROTYCZNA"))&&!(null!==(t=e.atmosphere)&&void 0!==t&&t.trim().toLocaleUpperCase().includes("APROTYCZNA"))&&!(null!==(r=e.atmosphere)&&void 0!==r&&r.trim().toLocaleUpperCase().includes("POLARNA")),errorMessage:"1 atmosfera z listy",key:"atmosphere"},{condition:"MIESZANIE"!==e.selectReactionCondition.trim().toUpperCase()&&"OGRZEWANIE"!==e.selectReactionCondition.trim().toUpperCase()&&"MIKROFALA"!==e.selectReactionCondition.trim().toUpperCase()&&"CH\u0141ODZENIE"!==e.selectReactionCondition.trim().toUpperCase(),errorMessage:"Warunki z listy",key:"selectReactionCondition"},{condition:"CHCL3"!==(null===(i=e.solvent)||void 0===i?void 0:i.trim().toUpperCase())&&"C2H5OH"!==(null===(s=e.solvent)||void 0===s?void 0:s.trim().toUpperCase())&&"C6H5CH3"!==(null===(o=e.solvent)||void 0===o?void 0:o.trim().toUpperCase()),errorMessage:"Roztw\xf3r z listy",key:"solvent"},{condition:(null===(c=e.solvent)||void 0===c?void 0:c.length)>6,errorMessage:"Max. 7 znak\xf3w",key:"solvent"}],[{condition:!e.startDate,errorMessage:"Wymagane",key:"startDate"},{condition:!e.finishDate,errorMessage:"Wymagane",key:"finishDate"},{condition:new Date(e.startDate)>new Date(e.finishDate),errorMessage:"Data po otwarciu",key:"finishDate"},{condition:!e.startTime,errorMessage:"Wymagane",key:"startTime"},{condition:!e.finishTime,errorMessage:"Wymagane",key:"finishTime"}]];return{validationForm:function(){var e={};return(void 0===a?l.flat():l[a]).forEach((function(a){var n=a.condition,t=a.errorMessage,r=a.key;n&&(e[r]=t)})),e}}}},5930:function(e,a,n){n.r(a),n.d(a,{default:function(){return S}});var t=n(4165),r=n(5861),i=n(9439),s=n(2791),o=n(7689),c=n(4425),l=function(e){var a=(0,s.useState)(0),n=(0,i.Z)(a,2),t=n[0],r=n[1];return{currentStepIdx:t,setCurrentStepIdx:r,step:e[t],steps:e,isFirstStep:0===t,isLastStep:t===e.length-1,next:function(){r((function(a){return a>=e.length-1?1:a+1}))},back:function(){r((function(e){return e<=0?1:e-1}))}}},u=n(1277),d=n(485),m=n(184),p=function(e){return(0,m.jsxs)("header",{className:"wrapper wrapper--formReactionHeader ",children:[(0,m.jsxs)("p",{className:"formReaction__stepIdx ",children:["Krok ",e.currentStepIdx+1,"/",e.steps.length]}),(0,m.jsx)("h2",{className:"formReaction__topDescription",children:["Podstawowe reagenty","Techniki laboratoryjne","Przebieg reakcji","Podsumowanie"][e.currentStepIdx]})]})},h=n(750),_=n(5048),v=function(e){return(0,m.jsxs)("div",{className:e.containerClass,children:[(0,m.jsx)("input",{type:"radio",name:e.name,value:e.value,checked:e.checked,onChange:e.handleChange,className:e.inuptClass,id:e.value}),(0,m.jsx)("label",{htmlFor:e.value,className:e.labelClass,children:e.label?e.label:e.value})]})},C=function(e){var a=(0,s.useState)(!1),n=(0,i.Z)(a,2),t=n[0],r=n[1],o=function(){r((function(e){return!e}))};return(0,m.jsxs)("div",{className:e.containerClass,children:[(0,m.jsx)("label",{className:e.labelClass,children:e.label}),(0,m.jsxs)("div",{className:e.optionsContainerClass,children:[(0,m.jsxs)("div",{onClick:o,className:e.inputTopClass,children:[e.value,(0,m.jsx)("div",{className:t?"select__arrow--up":"select__arrow"})]}),t&&(0,m.jsx)(m.Fragment,{children:e.selectValues.map((function(a){return(0,m.jsx)("div",{className:e.optionClass,onClick:function(){e.handleChange(e.inputName,a),o()},children:a},a)}))})]})]})},f=n(8816),x=n(3530),y=["Gramina","Kofeina","Nikotyna"],j=function(e){var a=(0,_.I0)(),n=(0,_.v9)((function(e){return e.formReaction})).reaction,t=function(e){var n=e.target,t=n.name,r=n.value;a((0,x.Cp)({name:t,value:r}))};return(0,m.jsxs)(h.E.section,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,m.jsx)(f.Z,{type:"text",name:"name",value:n.name,handleChange:t,label:"Nazwa reakcji",placeholder:"Nazwa",containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,m.jsx)("div",{className:"reaction__error",children:e.errors.name}),(0,m.jsx)(C,{label:"Ilo\u015b\u0107 moli substratu",inputName:"selectMilimolles",selectValues:["1","2","3","4","5","6"],value:n.selectMilimolles,handleChange:function(e,n){a((0,x.Cp)({name:e,value:n}))},containerClass:"reaction__selectContainer",labelClass:"reaction__selectLabel",inputTopClass:"reaction__selectTop",optionsContainerClass:"reaction__selectOptionsContainer",optionClass:"reaction__selectOption"}),(0,m.jsx)("div",{className:"reaction__error",children:e.errors.selectMilimolles}),(0,m.jsx)("p",{className:"reaction__radioInputHeader",children:"Alkaloid"}),y.map((function(e){return(0,m.jsx)(v,{value:e,name:"alcaloids",handleChange:t,checked:n.alcaloids===e,containerClass:"reaction__radioContainer",inuptClass:"reaction__radioInput",labelClass:"reaction__radioLabel"},e)})),(0,m.jsx)("div",{className:"reaction__error",children:e.errors.alcaloids}),(0,m.jsx)(f.Z,{type:"text",name:"technics",value:n.technics,handleChange:t,label:"Technika",placeholder:"Technika",containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,m.jsx)("div",{className:"reaction__error",children:e.errors.technics})]})},k=n(3433),b=function(e){return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("label",{className:e.labelClass,children:[(0,m.jsx)("input",{type:"checkbox",name:e.name,checked:e.checked,onChange:e.handleChange,className:e.inputClass}),(0,m.jsx)("div",{className:e.styleClass,children:e.name})]})})},N=n(8001),g=[{name:"Protyczna",key:0},{name:"Aprotyczna",key:1},{name:"Polarna",key:2}],z=["CHCl3","C2H5OH","C6H5CH3"],I=function(e){var a=(0,_.I0)(),n=(0,_.v9)((function(e){return e.formReaction})).reaction,t=(0,s.useState)([!1,!1,!1]),r=(0,i.Z)(t,2),o=r[0],c=r[1];(0,s.useEffect)((function(){var e=(0,k.Z)(o);g.forEach((function(a,t){e[t]=n.atmosphere.includes(a.name)})),c(e)}),[n.atmosphere]);var l=function(e){var n=e.target,t=n.name,r=n.value;a((0,x.Cp)({name:t,value:r}))};return(0,m.jsxs)(h.E.div,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,m.jsx)("p",{className:"reaction__checkboxesHeader",children:"\u015arodowisko reakcji"}),(0,m.jsxs)("div",{className:"reaction__checkboxecContainer",children:[g.map((function(e){var n=e.name,t=e.key;return(0,m.jsx)(b,{name:n,checked:o[t],handleChange:function(){return function(e,n){var t=(0,k.Z)(o);t[e]=!t[e],c(t);var r=t.reduce((function(e,a,n){return a&&e.push(g[n].name),e}),[]);a((0,x.Cp)({name:"atmosphere",value:r.join(", ")}))}(t)},labelClass:"reaction__checkboxLabel",inputClass:"reaction__checkboxInput",styleClass:"reaction__checkboxStyle"},t)})),(0,m.jsx)("div",{className:"reaction__checkboxLabel"})]}),(0,m.jsx)("div",{className:"reaction__error",children:e.errors.atmosphere}),(0,m.jsx)(C,{label:"Warunki reakcji",inputName:"selectReactionCondition",selectValues:["Mieszanie","Ogrzewanie","Mikrofala","Ch\u0142odzenie"],value:n.selectReactionCondition,handleChange:function(e,n){a((0,x.Cp)({name:e,value:n}))},containerClass:"reaction__selectContainer",labelClass:"reaction__selectLabel",inputTopClass:"reaction__selectTop",optionsContainerClass:"reaction__selectOptionsContainer",optionClass:"reaction__selectOption"}),(0,m.jsx)("div",{className:"reaction__error",children:e.errors.selectReactionCondition}),(0,m.jsx)("p",{className:"reaction__radioInputHeader",children:"Rozpuszczalniki"}),z.map((function(e){return(0,m.jsx)(v,{value:e,name:"solvent",handleChange:l,checked:n.solvent===e,containerClass:"reaction__radioContainer",inuptClass:"reaction__radioInput",labelClass:"reaction__radioLabel",label:(0,N.x)(e)},e)})),(0,m.jsx)("div",{className:"reaction__error",children:e.errors.solvent})]})},R=[{name:"startDate",type:"date",label:"Data otwarcia",value:function(e){return e.startDate},errorKey:"startDate"},{name:"finishDate",type:"date",label:"Data zamkni\u0119cia",value:function(e){return e.finishDate},errorKey:"finishDate"},{name:"startTime",type:"time",label:"Godzina rozpocz\u0119cia",value:function(e){return e.startTime},errorKey:"startTime"},{name:"finishTime",type:"time",label:"Godzina zako\u0144czenia",value:function(e){return e.finishTime},errorKey:"finishTime"}],M=function(e){var a=(0,_.I0)(),n=(0,_.v9)((function(e){return e.formReaction})).reaction,t=function(e){var n=e.target,t=n.name,r=n.value;a((0,x.Cp)({name:t,value:r}))};return(0,m.jsx)(h.E.section,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:R.map((function(a){var r=a.name,i=a.type,s=a.label,o=a.value,c=a.errorKey;return(0,m.jsxs)("div",{children:[(0,m.jsx)(f.Z,{type:i,name:r,value:o(n),handleChange:t,label:s,containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,m.jsx)("div",{className:"reaction__error",children:e.errors[c]})]},r)}))})},w=["Nazwa","Technika","Alkaloidy","Ilo\u015b\u0107 moli","Warunki reakcji","Rozpuszczalnik","\u015arodowisko"],D=["Rozpocz\u0119cie","Zako\u0144czenie","Rozpocz\u0119cie","Zako\u0144czenie"],T=function(){var e=(0,_.v9)((function(e){return e.formReaction})).reaction,a=Object.values(e);return(0,m.jsx)(h.E.section,{className:"step4",initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{className:"step4__subHeader",children:"Parametry:"}),a.slice(0,7).map((function(e,a){return(0,m.jsxs)("li",{className:"step4__reactionItem",children:[(0,m.jsxs)("div",{className:"step4__reactionProperty",children:[w[a],":\xa0"]}),(0,m.jsx)("div",{className:"step4__reactionValue",children:5===a?(0,N.x)(e):e})]},w[a])})),(0,m.jsx)("li",{className:"step4__subHeader",children:"Czasy:"}),a.slice(7,11).map((function(e,a){return(0,m.jsxs)("li",{className:"step4__reactionItem",children:[(0,m.jsx)("div",{className:"step4__reactionProperty",children:D[a]}),(0,m.jsx)("div",{className:"step4__reactionValue",children:e})]},crypto.randomUUID())}))]})})},S=function(){var e=(0,o.s0)();(0,s.useEffect)((function(){c.I.onAuthStateChanged((function(a){!a&&e("/")}))}),[]);var a=(0,_.I0)(),n=(0,_.v9)((function(e){return e.formReaction})).reaction,h=(0,s.useState)({}),v=(0,i.Z)(h,2),C=v[0],f=v[1],y=(0,d.Os)(),k=(0,i.Z)(y,2),b=k[0],N=k[1],g=l([(0,m.jsx)(j,{errors:C}),(0,m.jsx)(I,{errors:C}),(0,m.jsx)(M,{errors:C}),(0,m.jsx)(T,{})]),z=g.steps,R=g.currentStepIdx,w=g.setCurrentStepIdx,D=g.step,S=g.isFirstStep,Z=g.isLastStep,O=g.back,A=g.next,L=3===R?void 0:R,H=(0,u.Y)(n,L).validationForm,E=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(a){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),f(H()),!Object.keys(H()).length){e.next=4;break}return e.abrupt("return");case 4:if(!Z){e.next=9;break}return e.next=7,b(n);case 7:e.next=10;break;case 9:A();case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){var e;return N.isSuccess&&(e=setTimeout((function(){w(0),a((0,x.O2)()),N.isSuccess=!1}),3e3)),function(){return clearTimeout(e)}}),[N.isSuccess,w,a]);var U=(0,m.jsxs)(m.Fragment,{children:[D,(0,m.jsxs)("div",{className:"formReaction__btns",children:[!S&&(0,m.jsx)("button",{type:"button",onClick:O,className:"btn btn--formReaction",children:"Wr\xf3\u0107"}),(0,m.jsx)("button",{type:"submit",className:"btn btn--formReaction",children:Z?"Wy\u015blij":"Dalej"})]})]});return N.error&&"error"in N.error&&(U=(0,m.jsx)("div",{className:"formReaction__requestMessage ",children:N.error.error})),N.isLoading&&(U=(0,m.jsx)("div",{className:"formReaction__loading"})),N.isSuccess&&(U=(0,m.jsxs)("div",{className:"formReaction__requestMessage ",children:["Dane zapisane w li\u015bcie ",(0,m.jsx)("br",{})," reakcji"]})),(0,m.jsxs)("main",{className:"formReaction",children:[(0,m.jsx)(p,{currentStepIdx:R,steps:z}),(0,m.jsx)("form",{onSubmit:E,className:"wrapper formReaction__form",children:(0,m.jsx)("div",{className:"formReaction__opacity",children:(0,m.jsx)("div",{className:"formReaction__wrapper",children:U})})})]})}}}]);
//# sourceMappingURL=930.f7140003.chunk.js.map