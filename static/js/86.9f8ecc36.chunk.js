"use strict";(self.webpackChunklaboratory_lab=self.webpackChunklaboratory_lab||[]).push([[86],{1277:function(e,a,n){n.d(a,{Y:function(){return i}});var t=function(e){return Array.isArray(e)?e.join(", "):e},i=function(e,a){var n,i,r,s=[[{condition:(null===e||void 0===e?void 0:e.name.trim().length)<6,errorMessage:"Min. 6 znak\xf3w",key:"name"},{condition:(null===e||void 0===e?void 0:e.name.trim().length)>10,errorMessage:"Max. 10 znak\xf3w",key:"name"},{condition:isNaN(+e.selectMilimolles)||+e.selectMilimolles<1||+e.selectMilimolles>6,errorMessage:"Podaj liczb\u0119: 1-6",key:"selectMilimolles"},{condition:"GRAMINA"!==e.alcaloids.trim().toUpperCase()&&"KOFEINA"!==e.alcaloids.trim().toUpperCase()&&"NIKOTYNA"!==e.alcaloids.trim().toUpperCase(),errorMessage:"Podaj alkaloid",key:"alcaloids"},{condition:e.technics.trim().length<3,errorMessage:"Min. 3 znaki",key:"technics"},{condition:e.technics.trim().length>10,errorMessage:"Max. 10 znak\xf3w",key:"technics"}],[{condition:!(null!==(n=t(e.atmosphere))&&void 0!==n&&n.trim().toLocaleUpperCase().includes("PROTYCZNE"))&&!(null!==(i=t(e.atmosphere))&&void 0!==i&&i.trim().toLocaleUpperCase().includes("APROTYCZNE"))&&!(null!==(r=t(e.atmosphere))&&void 0!==r&&r.trim().toLocaleUpperCase().includes("POLARNE")),errorMessage:"\u015arodowisko z listy",key:"atmosphere"},{condition:"MIESZANIE"!==e.selectReactionCondition.trim().toUpperCase()&&"OGRZEWANIE"!==e.selectReactionCondition.trim().toUpperCase()&&"MIKROFALA"!==e.selectReactionCondition.trim().toUpperCase()&&"CH\u0141ODZENIE"!==e.selectReactionCondition.trim().toUpperCase(),errorMessage:"Podaj warunki",key:"selectReactionCondition"},{condition:"CHCL3"!==e.solvents.trim().toUpperCase()&&"C2H5OH"!==e.solvents.trim().toUpperCase()&&"C6H5CH3"!==e.solvents.trim().toUpperCase(),errorMessage:"Rozp. z listy",key:"solvents"}],[{condition:!e.startDate,errorMessage:"Wymagane",key:"startDate"},{condition:!e.finishDate,errorMessage:"Wymagane",key:"finishDate"},{condition:new Date(e.startDate)>new Date(e.finishDate),errorMessage:"Data po rozpocz\u0119ciu",key:"finishDate"},{condition:!e.startTime,errorMessage:"Wymagane",key:"startTime"},{condition:!e.finishTime,errorMessage:"Wymagane",key:"finishTime"}]];return{validationForm:function(){var e={};return(void 0===a?s.flat():s[a]).forEach((function(a){var n=a.condition,t=a.errorMessage,i=a.key;n&&(e[i]=t)})),e}}}},6086:function(e,a,n){n.r(a),n.d(a,{default:function(){return S}});var t=n(4165),i=n(5861),r=n(1413),s=n(9439),o=n(2791),c=n(7689),l=n(4425),d=function(e){var a=(0,o.useState)(0),n=(0,s.Z)(a,2),t=n[0],i=n[1];return{currentStepIdx:t,setCurrentStepIdx:i,step:e[t],steps:e,isFirstStep:0===t,isLastStep:t===e.length-1,next:function(){i((function(a){return a>=e.length-1?1:a+1}))},back:function(){i((function(e){return e<=0?1:e-1}))}}},u=n(1277),m=n(485),h=n(184),p=function(e){return(0,h.jsxs)("header",{className:"wrapper wrapper--formReactionHeader ",children:[(0,h.jsxs)("p",{className:"formReaction__stepIdx ",children:["Krok ",e.currentStepIdx+1,"/",e.steps.length]}),(0,h.jsx)("h2",{className:"formReaction__topDescription",children:["Podstawowe reagenty","Techniki laboratoryjne","Przebieg reakcji","Podsumowanie"][e.currentStepIdx]})]})},C=n(750),_=function(e){return(0,h.jsxs)("div",{className:e.containerClass,children:[(0,h.jsx)("input",{type:"radio",name:e.name,value:e.value,checked:e.checked,onChange:e.handleChange,className:e.inuptClass,id:e.value}),(0,h.jsx)("label",{htmlFor:e.value,className:e.labelClass,children:e.label?e.label:e.value})]})},x=function(e){var a=(0,o.useState)(!1),n=(0,s.Z)(a,2),t=n[0],i=n[1],r=function(){i((function(e){return!e}))};return(0,h.jsxs)("div",{className:e.containerClass,children:[(0,h.jsx)("label",{className:e.labelClass,children:e.label}),(0,h.jsxs)("div",{className:e.optionsContainerClass,children:[(0,h.jsxs)("div",{onClick:r,className:e.inputTopClass,children:[e.value,(0,h.jsx)("div",{className:t?"select__arrow--up":"select__arrow"})]}),t&&(0,h.jsx)(h.Fragment,{children:e.selectValues.map((function(a){return(0,h.jsx)("div",{className:e.optionClass,onClick:function(){e.handleChange(a),r()},children:a},a)}))})]})]})},f=n(8816),v=["Gramina","Kofeina","Nikotyna"],j=function(e){var a=function(a){return e.handleChange({alcaloids:a.target.value})};return(0,h.jsxs)(C.E.section,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,h.jsx)(f.Z,{type:"text",name:"name",value:e.reaction.name,handleChange:function(a){return e.handleChange({name:a.target.value.trim()})},label:"Nazwa reakcji",placeholder:"Nazwa",containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,h.jsx)("div",{className:"reaction__error",children:(0,h.jsx)("small",{children:e.errors.name})}),(0,h.jsx)(x,{label:"Ilo\u015b\u0107 moli substratu",inputName:"selectMilimolles",selectValues:["1","2","3","4","5","6"],value:e.reaction.selectMilimolles,handleChange:function(a){e.handleChange({selectMilimolles:a})},containerClass:"reaction__selectContainer",labelClass:"reaction__selectLabel",inputTopClass:"reaction__selectTop",optionsContainerClass:"reaction__selectOptionsContainer",optionClass:"reaction__selectOption"}),(0,h.jsx)("div",{className:"reaction__error",children:(0,h.jsx)("small",{children:e.errors.selectMilimolles})}),(0,h.jsx)("p",{className:"reaction__radioInputHeader",children:"Alkaloid"}),v.map((function(n){return(0,h.jsx)(_,{value:n,name:"alcaloids",handleChange:a,checked:e.reaction.alcaloids===n,containerClass:"reaction__radioContainer",inuptClass:"reaction__radioInput",labelClass:"reaction__radioLabel"},n)})),(0,h.jsx)("div",{className:"reaction__error",children:(0,h.jsx)("small",{children:e.errors.alcaloids})}),(0,h.jsx)(f.Z,{type:"text",name:"technics",value:e.reaction.technics,handleChange:function(a){return e.handleChange({technics:a.target.value.trim()})},label:"Technika",placeholder:"Technika",containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,h.jsx)("div",{className:"reaction__error",children:(0,h.jsx)("small",{children:e.errors.technics})})]})},y=n(3433),k=function(e){return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("label",{className:e.labelClass,children:[(0,h.jsx)("input",{type:"checkbox",name:e.name,checked:e.checked,onChange:e.handleChange,className:e.inputClass}),(0,h.jsx)("div",{className:e.styleClass,children:e.name})]})})},b=n(8001),g=[{name:"Protyczne",key:0},{name:"Aprotyczne",key:1},{name:"Polarne",key:2}],N=["CHCl3","C2H5Oh","C6H5Ch3"],z=function(e){var a=(0,o.useState)([!1,!1,!1]),n=(0,s.Z)(a,2),t=n[0],i=n[1];(0,o.useEffect)((function(){var a=(0,y.Z)(t);g.forEach((function(n,t){a[t]=e.reaction.atmosphere.includes(n.name)})),i(a)}),[e.reaction.atmosphere]);var r=function(a){return e.handleChange({solvents:a.target.value})};return(0,h.jsxs)(C.E.div,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,h.jsx)("p",{className:"reaction__checkboxesHeader",children:"\u015arodowisko reakcji"}),(0,h.jsxs)("div",{className:"reaction__checkboxecContainer",children:[g.map((function(a){var n=a.name,r=a.key;return(0,h.jsx)(k,{name:n,checked:t[r],handleChange:function(){return function(a,n){var r=(0,y.Z)(t);r[a]=!r[a],i(r);var s=r.reduce((function(e,a,n){return a&&e.push(g[n].name),e}),[]);e.handleChange({atmosphere:s})}(r)},labelClass:"reaction__checkboxLabel",inputClass:"reaction__checkboxInput",styleClass:"reaction__checkboxStyle"},r)})),(0,h.jsx)("div",{className:"reaction__checkboxLabel"})]}),(0,h.jsx)("div",{className:"reaction__error",children:(0,h.jsx)("small",{children:e.errors.atmosphere})}),(0,h.jsx)(x,{label:"Warunki reakcji",inputName:"selectReactionCondition",selectValues:["Mieszanie","Ogrzewanie","Mikrofala","Ch\u0142odzenie"],value:e.reaction.selectReactionCondition,handleChange:function(a){e.handleChange({selectReactionCondition:a})},containerClass:"reaction__selectContainer",labelClass:"reaction__selectLabel",inputTopClass:"reaction__selectTop",optionsContainerClass:"reaction__selectOptionsContainer",optionClass:"reaction__selectOption"}),(0,h.jsx)("div",{className:"reaction__error",children:(0,h.jsx)("small",{children:e.errors.selectReactionCondition})}),(0,h.jsx)("p",{className:"reaction__radioInputHeader",children:"Rozpuszczalniki"}),N.map((function(a){return(0,h.jsx)(_,{value:a,name:"alcaloids",handleChange:r,checked:e.reaction.solvents===a,containerClass:"reaction__radioContainer",inuptClass:"reaction__radioInput",labelClass:"reaction__radioLabel",label:(0,b.x)(a)},a)})),(0,h.jsx)("div",{className:"reaction__error",children:(0,h.jsx)("small",{children:e.errors.solvents})})]})},I=n(4942),M=function(e){var a=[{name:"startDate",type:"date",label:"Data rozpocz\u0119cia",value:e.reaction.startDate,error:e.errors.startDate},{name:"finishDate",type:"date",label:"Data uko\u0144czenia",value:e.reaction.finishDate,error:e.errors.finishDate},{name:"startTime",type:"time",label:"Godzina rozpocz\u0119cia",value:e.reaction.startTime,error:e.errors.startTime},{name:"finishTime",type:"time",label:"Godzina zako\u0144czenia",value:e.reaction.finishTime,error:e.errors.finishTime}];return(0,h.jsx)(C.E.section,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:a.map((function(a){var n,t=a.name,i=a.type,r=a.label,s=a.value,o=a.error;return(0,h.jsxs)("div",{children:[(0,h.jsx)(f.Z,{type:i,name:t,value:s,handleChange:(n=t,function(a){e.handleChange((0,I.Z)({},n,a.target.value))}),label:r,containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),o&&(0,h.jsx)("div",{className:"reaction__error",children:(0,h.jsx)("small",{children:o})})]},t)}))})},R=["Nazwa","Ilo\u015b\u0107 milimoli","Alkaloidy","Technika","\u015arodowisko","Warunki reakcji","Rozpuszczalnik"],w=["Rozpocz\u0119cie","Zako\u0144czenie","Rozpocz\u0119cie","Zako\u0144czenie"],D=function(e){var a=Object.values(e.reaction),n=function(e,a){return"string"===typeof e&&6===a?(0,b.x)(e):Array.isArray(e)?e.join(", "):e};return(0,h.jsx)(C.E.section,{className:"step4",initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,h.jsxs)("ul",{children:[(0,h.jsx)("li",{className:"step4__subHeader",children:"Parametry:"}),a.slice(0,7).map((function(e,a){return(0,h.jsxs)("li",{className:"step4__reactionItem",children:[(0,h.jsxs)("div",{className:"step4__reactionProperty",children:[R[a],":\xa0"]}),(0,h.jsx)("div",{className:"step4__reactionValue",children:n(e,a)})]},R[a])})),(0,h.jsx)("li",{className:"step4__subHeader",children:"Czasy:"}),a.slice(7,11).map((function(e,a){return(0,h.jsxs)("li",{className:"step4__reactionItem",children:[(0,h.jsx)("div",{className:"step4__reactionProperty",children:w[a]}),(0,h.jsx)("div",{className:"step4__reactionValue",children:e})]},crypto.randomUUID())}))]})})},T={name:"AH - ",selectMilimolles:"--Wybierz--",alcaloids:"",technics:"",atmosphere:[],selectReactionCondition:"--Wybierz--",solvents:"",startDate:"",finishDate:"",startTime:"",finishTime:"",isEdit:!0},S=function(){var e=(0,c.s0)();(0,o.useEffect)((function(){l.I.onAuthStateChanged((function(a){!a&&e("/")}))}),[]);var a=(0,o.useState)(T),n=(0,s.Z)(a,2),C=n[0],_=n[1],x=(0,o.useState)({}),f=(0,s.Z)(x,2),v=f[0],y=f[1],k=(0,m.Os)(),b=(0,s.Z)(k,2),g=b[0],N=b[1],I=function(e){_((function(a){return(0,r.Z)((0,r.Z)({},a),e)}))},R=d([(0,h.jsx)(j,{reaction:C,handleChange:I,errors:v}),(0,h.jsx)(z,{reaction:C,handleChange:I,errors:v}),(0,h.jsx)(M,{reaction:C,handleChange:I,errors:v}),(0,h.jsx)(D,{reaction:C})]),w=R.steps,S=R.currentStepIdx,Z=R.setCurrentStepIdx,E=R.step,A=R.isFirstStep,L=R.isLastStep,O=R.back,H=R.next,U=3===S?void 0:S,P=(0,u.Y)(C,U).validationForm,W=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(a){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),y(P()),!Object.keys(P()).length){e.next=4;break}return e.abrupt("return");case 4:if(!L){e.next=9;break}return e.next=7,g(C);case 7:e.next=10;break;case 9:H();case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){var e;return N.isSuccess&&(e=setTimeout((function(){Z(0),_(T),N.isSuccess=!1}),3e3)),function(){return clearTimeout(e)}}),[N.isSuccess,Z,_]);var F=(0,h.jsxs)(h.Fragment,{children:[E,(0,h.jsxs)("div",{className:"formReaction__btns",children:[!A&&(0,h.jsx)("button",{type:"button",onClick:O,className:"btn btn--formReaction",children:"Wr\xf3\u0107"}),(0,h.jsx)("button",{type:"submit",className:"btn btn--formReaction",children:L?"Wy\u015blij":"Dalej"})]})]});return N.error&&"error"in N.error&&(F=(0,h.jsx)("div",{className:"formReaction__requestMessage ",children:N.error.error})),N.isLoading&&(F=(0,h.jsx)("div",{className:"formReaction__loading"})),N.isSuccess&&(F=(0,h.jsxs)("div",{className:"formReaction__requestMessage ",children:["Dane zapisane w li\u015bcie ",(0,h.jsx)("br",{})," reakcji"]})),(0,h.jsxs)("main",{className:"formReaction",children:[(0,h.jsx)(p,{currentStepIdx:S,steps:w}),(0,h.jsx)("form",{onSubmit:W,className:"wrapper formReaction__form",children:(0,h.jsx)("div",{className:"formReaction__opacity",children:(0,h.jsx)("div",{className:"formReaction__wrapper",children:F})})})]})}}}]);
//# sourceMappingURL=86.9f8ecc36.chunk.js.map