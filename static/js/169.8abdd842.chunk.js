"use strict";(self.webpackChunklaboratory_lab=self.webpackChunklaboratory_lab||[]).push([[169],{1277:function(e,t,n){n.d(t,{Y:function(){return r}});var r=function(e,t){var n=[[{condition:e.name.length<3,errorMessage:"Min. 3 znaki",key:"name"},{condition:"--Wybierz--"===e.selectMilimolles||!e.selectMilimolles,errorMessage:"Wymagane",key:"selectMilimolles"},{condition:!e.alcaloids,errorMessage:"Wymagane",key:"alcaloids"},{condition:e.technics.length<3,errorMessage:"Min. 3 znaki",key:"technics"}],[{condition:!e.solvents.length,errorMessage:"Wymagane",key:"solvents"},{condition:"--Wybierz--"===e.selectReactionCondition,errorMessage:"Wymagane",key:"selectReactionCondition"},{condition:e.substract.length<3,errorMessage:"Min. 3 znaki",key:"substract"}],[{condition:!e.startDate,errorMessage:"Wymagane",key:"startDate"},{condition:!e.finishDate,errorMessage:"Wymagane",key:"finishDate"},{condition:!e.startTime,errorMessage:"Wymagane",key:"startTime"},{condition:!e.finishTime,errorMessage:"Wymagane",key:"finishTime"}]];return{validationForm:function(){var e={};return(void 0===t?n.flat():n[t]).forEach((function(t){var n=t.condition,r=t.errorMessage,a=t.key;n&&(e[a]=r)})),e}}}},8169:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(5048),a=n(184),i=function(e){return(0,a.jsx)("table",{className:"wrapper tableReactions__table",children:e.children})},o=n(2791),s=n(485),c=n(8816),l=n(1936),u=[{name:"name",type:"text"},{name:"technics",type:"text"},{name:"alcaloids",type:"text"},{name:"selectMilimolles",type:"text"},{name:"substract",type:"text"},{name:"selectReactionCondition",type:"text"},{name:"solvents",type:"text"}],d=[{name:"startDate",type:"date"},{name:"finishDate",type:"date"},{name:"startTime",type:"time"},{name:"finishTime",type:"time"}],m=n(1277),f=function(e){e.formik;var t=(0,r.I0)(),n=(0,r.v9)((function(e){return e.tableReactions})).editedReaction,i=(0,r.v9)((function(e){return e.tableReactions.toggleTable})).isOpen,o=(0,m.Y)(n).validationForm,s=function(e,n){var r=e.target,a=r.name,i=r.value;t((0,l.Cp)([a,i]))},f=i?u:d;return(0,a.jsx)(a.Fragment,{children:f.map((function(e){var t=e.type,r=e.name;return(0,a.jsxs)("td",{children:[(0,a.jsx)(c.Z,{text:"",type:t,name:r,value:n[r],onChange:s,classContainer:"editForm__textInputContainer",classLabel:"editForm__textInputLabel",classInput:"editForm__textInput"}),(0,a.jsx)("div",{className:"editForm__error",children:(0,a.jsx)("small",{children:o()[r]})})]},r)}))})},b=n(3433),h=function(e){var t=Object.values(e).slice(0,8);return t.shift(),t},x=function(e){var t=Object.values(e),n=[t[0]].concat((0,b.Z)(t.slice(8,12)));return n.shift(),n},p=function(e){return(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsx)("td",{children:e.message})})})},y=function(e){var t=(0,s.bY)(void 0),n=t.error,i=(t.isLoading,(0,r.v9)((function(e){return e.tableReactions.toggleTable})).isOpen?h:x);return n&&"error"in n?(0,a.jsx)(p,{message:n.error}):(0,a.jsx)(a.Fragment,{children:i(e.reaction).map((function(e){return(0,a.jsx)("td",{children:Array.isArray(e)?e.flat().join(", "):e},crypto.randomUUID())}))})},g=n(4165),v=n(1413),j=n(5861),k=n(9439),_=n(6355),R=n(8820),M=n(6856),C=function(e){var t=(0,r.I0)(),n=(0,r.v9)((function(e){return e.tableReactions})),i=n.editedReaction,o=n.printReactions,c=(0,m.Y)(i).validationForm,u=(0,s.gD)(),d=(0,k.Z)(u,1)[0],f=(0,s.wF)(),b=(0,k.Z)(f,1)[0],h=function(){var e=(0,j.Z)((0,g.Z)().mark((function e(n,r){var a;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.keys(c()).length){e.next=2;break}return e.abrupt("return");case 2:return a=(0,v.Z)((0,v.Z)({},i),{},{isEdit:!0}),t((0,l.He)([n,r])),e.next=6,d(a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=(0,j.Z)((0,g.Z)().mark((function e(t){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("td",{children:[e.reaction.isEdit?(0,a.jsx)("button",{onClick:function(){return function(e,n){t((0,l.fy)([e,n]))}(o,e.reaction.id)},className:"tableReactions__btn",children:(0,a.jsx)(R.QML,{})}):(0,a.jsx)("button",{onClick:function(){return h(o,e.reaction.id)},className:"tableReactions__btn",children:(0,a.jsx)(M.FTL,{})}),(0,a.jsx)("button",{onClick:function(){return x(e.reaction.id)},className:"tableReactions__btn tableReactions__btn--trash",children:(0,a.jsx)(_.AMf,{})})]})})},T=function(){var e=(0,r.I0)(),t=(0,s.bY)(void 0),n=t.data,i=t.error,c=(t.isLoading,(0,r.v9)((function(e){return e.tableReactions})).printReactions);return(0,o.useEffect)((function(){n&&e((0,l.Ym)(n))}),[n,e]),i&&"error"in i?(0,a.jsx)(p,{message:i.error}):0===c.length?(0,a.jsx)(p,{message:"Brak zapisanych reakcji"}):(0,a.jsx)("tbody",{children:null===c||void 0===c?void 0:c.map((function(e){return(0,a.jsxs)("tr",{children:[e.isEdit?(0,a.jsx)(y,{reaction:e}):(0,a.jsx)(f,{}),(0,a.jsx)(C,{reaction:e})]},e.id)}))})},F=["Nazwa","Technika","Alkaloidy","Mole","Substrakt","Warunki","Rozp."],Z=["Otwarcie","Zamkni\u0119cie","Pocz\u0105tek","Koniec"],z=function(){var e=(0,r.v9)((function(e){return e.tableReactions.toggleTable})).isOpen;return(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[e?F.map((function(e){return(0,a.jsx)("td",{children:e},e)})):Z.map((function(e){return(0,a.jsx)("td",{children:e},crypto.randomUUID())})),(0,a.jsx)("td",{})]})})},w=function(){var e=(0,r.I0)(),t=(0,r.v9)((function(e){return e.tableReactions})).editedReaction,n=(0,r.v9)((function(e){return e.tableReactions.toggleTable})).isOpen,o=(0,m.Y)(t).validationForm,s=t.id,c=s&&(o().name||o().technics||o().alcaloids||o().selectMilimolles||o().substract||o().selectReactionCondition||o().solvents)?{color:"red",text:"Uzupe\u0142nij"}:{color:"black",text:"Parametry"},u=s&&(o().startDate||o().finishDate||o().startTime||o().finishTime)?{color:"red",text:"Uzupe\u0142nij"}:{color:"black",text:"Czasy"};return(0,a.jsxs)("main",{className:"tableReactions__main",children:[(0,a.jsxs)("section",{className:"wrapper tableReactions__headers",children:[(0,a.jsx)("div",{onClick:function(){return e((0,l.bk)(!0))},style:{color:c.color,backgroundColor:"".concat(n?"rgb(156,156,156)":"rgb(255 255 255)")},className:"tableReactions__header",children:c.text}),(0,a.jsx)("div",{onClick:function(){return e((0,l.bk)(!1))},style:{color:u.color,backgroundColor:"".concat(n?"rgb(255 255 255)":"rgb(156,156,156)")},className:"tableReactions__header",children:u.text})]}),(0,a.jsxs)(i,{children:[(0,a.jsx)(z,{}),(0,a.jsx)(T,{})]})]})}}}]);
//# sourceMappingURL=169.8abdd842.chunk.js.map