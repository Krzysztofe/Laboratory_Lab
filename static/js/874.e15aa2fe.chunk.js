"use strict";(self.webpackChunklaboratory_lab=self.webpackChunklaboratory_lab||[]).push([[874],{1277:function(e,a,n){n.d(a,{Y:function(){return r}});var r=function(e,a){var n,r,t,i=[[{condition:e.name.trim().length<6,errorMessage:"Min. 6 znak\xf3w",key:"name"},{condition:e.name.trim().length>10,errorMessage:"Max. 10 znak\xf3w",key:"name"},{condition:isNaN(+e.selectMilimolles)||+e.selectMilimolles<1||+e.selectMilimolles>6,errorMessage:"Cyfra: 1-6",key:"selectMilimolles"},{condition:!["GRAMINA","KOFEINA","NIKOTYNA"].includes(e.alcaloids.trim().toUpperCase()),errorMessage:"Alkaloid z listy",key:"alcaloids"},{condition:e.technics.trim().length<3,errorMessage:"Min. 3 znaki",key:"technics"},{condition:e.technics.trim().length>10,errorMessage:"Max. 10 znak\xf3w",key:"technics"}],[{condition:!(null!==(n=e.atmosphere)&&void 0!==n&&n.trim().toUpperCase().includes("PROTYCZNA"))&&!(null!==(r=e.atmosphere)&&void 0!==r&&r.trim().toUpperCase().includes("APROTYCZNA"))&&!(null!==(t=e.atmosphere)&&void 0!==t&&t.trim().toUpperCase().includes("POLARNA")),errorMessage:"Atmosfera z listy",key:"atmosphere"},{condition:!["MIESZANIE","OGRZEWANIE","MIKROFALA"].includes(e.selectReactionCondition.trim().toUpperCase()),errorMessage:"Warunki z listy",key:"selectReactionCondition"},{condition:!["CHCL3","C2H5OH","C6H5CH3"].includes(e.solvent.trim().toUpperCase()),errorMessage:"Roztw\xf3r z listy",key:"solvent"}],[{condition:!e.startDate,errorMessage:"Wymagane",key:"startDate"},{condition:!e.finishDate,errorMessage:"Wymagane",key:"finishDate"},{condition:new Date(e.startDate)>new Date(e.finishDate),errorMessage:"Data po otwarciu",key:"finishDate"},{condition:!e.startTime,errorMessage:"Wymagane",key:"startTime"},{condition:!e.finishTime,errorMessage:"Wymagane",key:"finishTime"}]];return{validationForm:function(){var e={};return(void 0===a?i.flat():i[a]).forEach((function(a){var n=a.condition,r=a.errorMessage,t=a.key;n&&(e[t]=r)})),e}}}},1874:function(e,a,n){n.r(a),n.d(a,{default:function(){return w}});var r=n(4165),t=n(1413),i=n(5861),s=n(9439),o=n(2791),c=n(7689),l=n(4425),u=function(e){var a=(0,o.useState)(0),n=(0,s.Z)(a,2),r=n[0],t=n[1];return{currentStepIdx:r,setCurrentStepIdx:t,step:e[r],steps:e,isFirstStep:0===r,isLastStep:r===e.length-1,next:function(){t((function(a){return a>=e.length-1?1:a+1}))},back:function(){t((function(e){return e<=0?1:e-1}))}}},d=n(1277),m=n(485),p=n(184),h=function(e){return(0,p.jsxs)("header",{className:"wrapper wrapper--formReactionHeader ",children:[(0,p.jsxs)("p",{className:"formReaction__stepIdx ",children:["Krok ",e.currentStepIdx+1,"/",e.steps.length]}),(0,p.jsx)("h2",{className:"formReaction__topDescription",children:["Podstawowe reagenty","Techniki laboratoryjne","Przebieg reakcji","Podsumowanie"][e.currentStepIdx]})]})},_=n(750),x=n(5048),v=function(e){return(0,p.jsxs)("div",{className:e.containerClass,children:[(0,p.jsx)("input",{type:"radio",name:e.name,value:e.value,checked:e.checked,onChange:e.handleChange,className:e.inuptClass,id:e.value}),(0,p.jsx)("label",{htmlFor:e.value,className:e.labelClass,children:e.label?e.label:e.value})]})},f=function(e){var a=(0,o.useState)(!1),n=(0,s.Z)(a,2),r=n[0],t=n[1],i=function(){t((function(e){return!e}))};return(0,p.jsxs)("div",{className:e.containerClass,children:[(0,p.jsx)("label",{className:e.labelClass,children:e.label}),(0,p.jsxs)("div",{className:e.optionsContainerClass,children:[(0,p.jsxs)("div",{onClick:i,className:e.inputTopClass,children:[e.value,(0,p.jsx)("div",{className:r?"select__arrow--up":"select__arrow"})]}),r&&(0,p.jsx)(p.Fragment,{children:e.selectValues.map((function(a){return(0,p.jsx)("div",{className:e.optionClass,onClick:function(){e.handleChange(e.inputName,a),i()},children:a},a)}))})]})]})},C=n(8816),j=n(3530),y=["Gramina","Kofeina","Nikotyna"],b=function(e){var a=(0,x.I0)(),n=(0,x.v9)((function(e){return e.formReaction})).reaction,r=function(e){var n=e.target,r=n.name,t=n.value;a((0,j.Cp)({name:r,value:t}))};return(0,p.jsxs)(_.E.section,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,p.jsx)(C.Z,{type:"text",name:"name",value:n.name,handleChange:r,label:"Nazwa reakcji",placeholder:"Nazwa",containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,p.jsx)("div",{className:"reaction__error",children:e.errors.name?(0,p.jsx)("div",{className:"reaction__errorAnimation",children:e.errors.name}):null}),(0,p.jsx)(f,{label:"Ilo\u015b\u0107 moli substratu",inputName:"selectMilimolles",selectValues:["1","2","3","4","5","6"],value:n.selectMilimolles,handleChange:function(e,n){a((0,j.Cp)({name:e,value:n}))},containerClass:"reaction__selectContainer",labelClass:"reaction__selectLabel",inputTopClass:"reaction__selectTop",optionsContainerClass:"reaction__selectOptionsContainer",optionClass:"reaction__selectOption"}),(0,p.jsx)("div",{className:"reaction__error",children:e.errors.selectMilimolles?(0,p.jsx)("div",{className:"reaction__errorAnimation",children:e.errors.selectMilimolles}):null}),(0,p.jsx)("p",{className:"reaction__radioInputHeader",children:"Alkaloid"}),y.map((function(e){return(0,p.jsx)(v,{value:e,name:"alcaloids",handleChange:r,checked:n.alcaloids===e,containerClass:"reaction__radioContainer",inuptClass:"reaction__radioInput",labelClass:"reaction__radioLabel"},e)})),(0,p.jsx)("div",{className:"reaction__error",children:e.errors.alcaloids?(0,p.jsx)("div",{className:"reaction__errorAnimation",children:e.errors.alcaloids}):null}),(0,p.jsx)(C.Z,{type:"text",name:"technics",value:n.technics,handleChange:r,label:"Technika",placeholder:"Technika",containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,p.jsx)("div",{className:"reaction__error",children:e.errors.technics?(0,p.jsxs)("div",{className:"reaction__errorAnimation",children:[e.errors.technics," "]}):null})]})},k=function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("label",{className:e.labelClass,children:[(0,p.jsx)("input",{type:"checkbox",value:e.value,checked:e.checked,onChange:e.handleChange,className:e.inputClass}),(0,p.jsx)("div",{className:e.styleClass,children:e.value})]})})},N=n(8001),g=function(e){var a=(0,x.I0)(),n=(0,x.v9)((function(e){return e.formReaction})).reaction,r=(0,o.useState)(n.atmosphere),t=(0,s.Z)(r,2),i=t[0],c=t[1];(0,o.useEffect)((function(){a((0,j.Cp)({name:"atmosphere",value:i}))}),[i]);var l=function(e){var a,n=e.target,r=n.value;a=n.checked?i?"".concat(i,",").concat(r):r:i.split(",").filter((function(e){return e!==r})).join(","),c(a)},u=function(e){var n=e.target,r=n.name,t=n.value;a((0,j.Cp)({name:r,value:t}))};return(0,p.jsxs)(_.E.div,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,p.jsx)("p",{className:"reaction__checkboxesHeader",children:"\u015arodowisko reakcji"}),(0,p.jsxs)("div",{className:"reaction__checkboxecContainer",children:[["Protyczna","Aprotyczna","Polarna"].map((function(e){return(0,p.jsx)(k,{value:e,checked:n.atmosphere.includes(e),handleChange:l,labelClass:"reaction__checkboxLabel",inputClass:"reaction__checkboxInput",styleClass:"reaction__checkboxStyle"},crypto.randomUUID())})),(0,p.jsx)("div",{className:"reaction__checkboxLabel"})]}),(0,p.jsx)("div",{className:"reaction__error",children:e.errors.atmosphere?(0,p.jsx)("div",{className:"reaction__errorAnimation",children:e.errors.atmosphere}):null}),(0,p.jsx)(f,{label:"Warunki reakcji",inputName:"selectReactionCondition",selectValues:["Mieszanie","Ogrzewanie","Mikrofala","Ch\u0142odzenie"],value:n.selectReactionCondition,handleChange:function(e,n){a((0,j.Cp)({name:e,value:n}))},containerClass:"reaction__selectContainer",labelClass:"reaction__selectLabel",inputTopClass:"reaction__selectTop",optionsContainerClass:"reaction__selectOptionsContainer",optionClass:"reaction__selectOption"}),(0,p.jsx)("div",{className:"reaction__error",children:e.errors.selectReactionCondition?(0,p.jsx)("div",{className:"reaction__errorAnimation",children:e.errors.selectReactionCondition}):null}),(0,p.jsx)("p",{className:"reaction__radioInputHeader",children:"Rozpuszczalniki"}),["CHCl3","C2H5OH","C6H5CH3"].map((function(e){return(0,p.jsx)(v,{value:e,name:"solvent",handleChange:u,checked:n.solvent===e,containerClass:"reaction__radioContainer",inuptClass:"reaction__radioInput",labelClass:"reaction__radioLabel",label:(0,N.x)(e)},e)})),(0,p.jsx)("div",{className:"reaction__error",children:e.errors.solvent?(0,p.jsx)("div",{className:"reaction__errorAnimation",children:e.errors.solvent}):null})]})},z=[{name:"startDate",type:"date",label:"Data otwarcia",value:function(e){return e.startDate},errorKey:"startDate"},{name:"finishDate",type:"date",label:"Data zamkni\u0119cia",value:function(e){return e.finishDate},errorKey:"finishDate"},{name:"startTime",type:"time",label:"Godzina rozpocz\u0119cia",value:function(e){return e.startTime},errorKey:"startTime"},{name:"finishTime",type:"time",label:"Godzina zako\u0144czenia",value:function(e){return e.finishTime},errorKey:"finishTime"}],I=function(e){var a=(0,x.I0)(),n=(0,x.v9)((function(e){return e.formReaction})).reaction,r=function(e){var n=e.target,r=n.name,t=n.value;a((0,j.Cp)({name:r,value:t}))};return(0,p.jsx)(_.E.section,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:z.map((function(a){var t=a.name,i=a.type,s=a.label,o=a.value,c=a.errorKey;return(0,p.jsxs)("div",{children:[(0,p.jsx)(C.Z,{type:i,name:t,value:o(n),handleChange:r,label:s,containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,p.jsx)("div",{className:"reaction__error",children:e.errors[c]?(0,p.jsx)("div",{className:"reaction__errorAnimation",children:e.errors[c]}):null})]},t)}))})},R=["Nazwa","Technika","Alkaloidy","Ilo\u015b\u0107 moli","Warunki reakcji","Rozpuszczalnik","Atmosfera"],M=["Rozpocz\u0119cie","Zako\u0144czenie","Rozpocz\u0119cie","Zako\u0144czenie"],A=function(){var e=(0,x.v9)((function(e){return e.formReaction})).reaction,a=Object.values(e);return(0,p.jsx)(_.E.section,{className:"step4",initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{className:"step4__subHeader",children:"Parametry:"}),a.slice(0,7).map((function(e,a){return(0,p.jsxs)("li",{className:"step4__reactionItem",children:[(0,p.jsxs)("div",{className:"step4__reactionProperty",children:[R[a],":\xa0"]}),(0,p.jsx)("div",{className:"step4__reactionValue",children:5===a?(0,N.x)(e):6===a?e.split(",").join(", "):e})]},R[a])})),(0,p.jsx)("li",{className:"step4__subHeader",children:"Czasy:"}),a.slice(7,11).map((function(e,a){return(0,p.jsxs)("li",{className:"step4__reactionItem",children:[(0,p.jsxs)("div",{className:"step4__reactionProperty",children:[M[a],":\xa0"]}),(0,p.jsx)("div",{className:"step4__reactionValue",children:e})]},R[a])}))]})})},w=function(){var e=(0,c.s0)();(0,o.useEffect)((function(){l.I.onAuthStateChanged((function(a){!a&&e("/")}))}),[]);var a=(0,x.I0)(),n=(0,x.v9)((function(e){return e.formReaction})).reaction,_=(0,o.useState)({}),v=(0,s.Z)(_,2),f=v[0],C=v[1],y=(0,m.Os)(),k=(0,s.Z)(y,2),N=k[0],z=k[1],R=u([(0,p.jsx)(b,{errors:f}),(0,p.jsx)(g,{errors:f}),(0,p.jsx)(I,{errors:f}),(0,p.jsx)(A,{})]),M=R.steps,w=R.currentStepIdx,T=R.setCurrentStepIdx,D=R.step,S=R.isFirstStep,Z=R.isLastStep,O=R.back,H=R.next,L=3===w?void 0:w,E=(0,d.Y)(n,L).validationForm,P=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),C(E()),!Object.keys(E()).length){e.next=4;break}return e.abrupt("return");case 4:if(!Z){e.next=9;break}return e.next=7,N((0,t.Z)((0,t.Z)({},n),{},{atmosphere:n.atmosphere.split(",").join(", ")}));case 7:e.next=10;break;case 9:H();case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){var e;return z.isSuccess&&(e=setTimeout((function(){T(0),a((0,j.O2)()),z.isSuccess=!1}),3e3)),function(){return clearTimeout(e)}}),[z.isSuccess,T,a]);var F=(0,p.jsxs)(p.Fragment,{children:[D,(0,p.jsxs)("div",{className:"formReaction__btns",children:[!S&&(0,p.jsx)("button",{type:"button",onClick:O,className:"btn btn--formReaction",children:"Wr\xf3\u0107"}),(0,p.jsx)("button",{type:"submit",className:"btn btn--formReaction",children:Z?"Wy\u015blij":"Dalej"})]})]});return z.error&&"error"in z.error&&(F=(0,p.jsx)("div",{className:"formReaction__requestMessage ",children:z.error.error})),z.isLoading&&(F=(0,p.jsx)("div",{className:"formReaction__loading"})),z.isSuccess&&(F=(0,p.jsxs)("div",{className:"formReaction__requestMessage ",children:["Dane zapisane w li\u015bcie ",(0,p.jsx)("br",{})," reakcji"]})),(0,p.jsxs)("main",{className:"formReaction",children:[(0,p.jsx)(h,{currentStepIdx:w,steps:M}),(0,p.jsx)("form",{onSubmit:P,className:"wrapper formReaction__form",children:(0,p.jsx)("div",{className:"formReaction__opacity",children:(0,p.jsx)("div",{className:"formReaction__wrapper",children:F})})})]})}}}]);
//# sourceMappingURL=874.e15aa2fe.chunk.js.map