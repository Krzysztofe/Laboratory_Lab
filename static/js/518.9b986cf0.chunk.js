"use strict";(self.webpackChunklaboratory_lab=self.webpackChunklaboratory_lab||[]).push([[518],{1277:function(e,t,n){n.d(t,{Y:function(){return i}});var i=function(e,t){var n,i,r,a,o,s,c,l=[[{condition:(null===e||void 0===e?void 0:e.name.trim().length)<6,errorMessage:"Min. 6 znak\xf3w",key:"name"},{condition:(null===e||void 0===e?void 0:e.name.trim().length)>10,errorMessage:"Max. 10 znak\xf3w",key:"name"},{condition:isNaN(+e.selectMilimolles)||+e.selectMilimolles<1||+e.selectMilimolles>6,errorMessage:"Cyfra: 1-6",key:"selectMilimolles"},{condition:"GRAMINA"!==e.alcaloids.trim().toUpperCase()&&"KOFEINA"!==e.alcaloids.trim().toUpperCase()&&"NIKOTYNA"!==e.alcaloids.trim().toUpperCase(),errorMessage:"Alkaloid z listy",key:"alcaloids"},{condition:e.technics.trim().length<3,errorMessage:"Min. 3 znaki",key:"technics"},{condition:e.technics.trim().length>10,errorMessage:"Max. 10 znak\xf3w",key:"technics"}],[{condition:!(null!==(n=e.atmosphere)&&void 0!==n&&n.trim().toLocaleUpperCase().includes("PROTYCZNA"))&&!(null!==(i=e.atmosphere)&&void 0!==i&&i.trim().toLocaleUpperCase().includes("APROTYCZNA"))&&!(null!==(r=e.atmosphere)&&void 0!==r&&r.trim().toLocaleUpperCase().includes("POLARNA")),errorMessage:"1 atmosfera z listy",key:"atmosphere"},{condition:"MIESZANIE"!==e.selectReactionCondition.trim().toUpperCase()&&"OGRZEWANIE"!==e.selectReactionCondition.trim().toUpperCase()&&"MIKROFALA"!==e.selectReactionCondition.trim().toUpperCase()&&"CH\u0141ODZENIE"!==e.selectReactionCondition.trim().toUpperCase(),errorMessage:"Warunki z listy",key:"selectReactionCondition"},{condition:"CHCL3"!==(null===(a=e.solvent)||void 0===a?void 0:a.trim().toUpperCase())&&"C2H5OH"!==(null===(o=e.solvent)||void 0===o?void 0:o.trim().toUpperCase())&&"C6H5CH3"!==(null===(s=e.solvent)||void 0===s?void 0:s.trim().toUpperCase()),errorMessage:"Roztw\xf3r z listy",key:"solvent"},{condition:(null===(c=e.solvent)||void 0===c?void 0:c.length)>6,errorMessage:"Max. 7 znak\xf3w",key:"solvent"}],[{condition:!e.startDate,errorMessage:"Wymagane",key:"startDate"},{condition:!e.finishDate,errorMessage:"Wymagane",key:"finishDate"},{condition:new Date(e.startDate)>new Date(e.finishDate),errorMessage:"Data po otwarciu",key:"finishDate"},{condition:!e.startTime,errorMessage:"Wymagane",key:"startTime"},{condition:!e.finishTime,errorMessage:"Wymagane",key:"finishTime"}]];return{validationForm:function(){var e={};return(void 0===t?l.flat():l[t]).forEach((function(t){var n=t.condition,i=t.errorMessage,r=t.key;n&&(e[r]=i)})),e}}}},3518:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var i=n(2791),r=n(7689),a=n(4425),o=n(5048),s=n(1936),c=n(485),l=n(184),d=n(4165),u=n(1413),m=n(5861),p=n(9439),f=n(8820),h=n(6355),v=n(6856),b=n(1277),x=n(1830),g=n.n(x),y=function(e){var t=(0,o.I0)(),n=(0,o.v9)((function(e){return e.tableReactions})),r=n.editedReaction,a=n.printReactions,x=(0,c.gD)(),y=(0,p.Z)(x,2),k=y[0],C=y[1],_=(0,c.wF)(),R=(0,p.Z)(_,2),j=R[0],M=R[1],N=(0,b.Y)(r).validationForm;(0,i.useEffect)((function(){t((0,s.Gy)({editIsLoading:C.isLoading,editIsError:C.isError,deleteIsLoading:M.isLoading,deleteIsError:M.isError}))}),[C.isLoading,C.isError,M.isLoading,M.isError,t]);var w=function(){var e=(0,m.Z)((0,d.Z)().mark((function e(){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.keys(N()).length){e.next=2;break}return e.abrupt("return");case 2:return t((0,s.He)()),t((0,s.U6)()),n=(0,u.Z)((0,u.Z)({},r),{},{isEdit:!1}),e.next=7,k(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,m.Z)((0,d.Z)().mark((function e(n){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t((0,s.kU)(n)),g().fire({title:"Chcesz usun\u0105\u0107 reakcj\u0119?",showCancelButton:!0,confirmButtonColor:"rgb(31, 180, 255)",cancelButtonColor:"rgb(238, 28, 24)",confirmButtonText:"Tak",cancelButtonText:"Nie",customClass:{title:"tableReactions__alertTitle",confirmButton:"tableReactions__alertConfirmButton",cancelButton:"tableReactions__alertCancelButton"}}).then(function(){var e=(0,m.Z)((0,d.Z)().mark((function e(i){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.isConfirmed){e.next=4;break}return e.next=3,j(n);case 3:t((0,s.U6)());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,l.jsxs)("td",{children:[e.reaction.isEdit?(0,l.jsx)("button",{onClick:function(){return w()},className:"tableReactions__btn tableReactions__btn--edit",children:(0,l.jsx)(v.FTL,{})}):(0,l.jsx)("button",{onClick:function(){return function(e,n){t((0,s.fy)({printReactions:e,reactionId:n})),t((0,s.kU)(n))}(a,e.reaction.id)},className:"tableReactions__btn tableReactions__btn--edit",children:(0,l.jsx)(f.QML,{})}),(0,l.jsx)("button",{onClick:function(){return I(e.reaction.id)},className:"tableReactions__btn tableReactions__btn--trash",children:(0,l.jsx)(h.AMf,{})})]})},k=n(8001),C=[{name:"name",type:"text"},{name:"solvent",type:"text"},{name:"technics",type:"text"},{name:"alcaloids",type:"text"},{name:"selectMilimolles",type:"text"},{name:"selectReactionCondition",type:"text"},{name:"atmosphere",type:"text"}],_=[{name:"startDate",type:"date"},{name:"finishDate",type:"date"},{name:"startTime",type:"time"},{name:"finishTime",type:"time"}],R=["Nazwa: ","Rozt\xf3wr: ","Technika: ","Alkaloid: ","Mole: ","Warunki: ","Atmosfera: "],j=["Otwarcie","Zamkni\u0119cie","Pocz\u0105tek","Koniec"],M=n(3433),N=function(e){var t=Object.values(e).slice(0,8);return t.shift(),t},w=function(e){var t=Object.values(e),n=[t[0]].concat((0,M.Z)(t.slice(8,12)));return n.shift(),n},I=function(e){var t=(0,o.v9)((function(e){return e.tableReactions.toggleTable})).isOpen,n=t?N:w,i=t?R:j;return(0,l.jsx)(l.Fragment,{children:n(e.reaction).map((function(e,n){var r;return r=t&&1===n?(0,k.x)(e):t&&6===n&&Array.isArray(e)?e.join(", "):e,(0,l.jsx)("td",{"data-cell":"".concat(i[n]),children:r},crypto.randomUUID())}))})},E=n(8816),A=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.tableReactions})).editedReaction,n=(0,o.v9)((function(e){return e.tableReactions.toggleTable})).isOpen,i=(0,b.Y)(t).validationForm,r=function(t){var n=t.target,i=n.name,r=n.value;e((0,s.Cp)({name:i,value:r}))},a=n?C:_,c=n?R:j;return(0,l.jsx)(l.Fragment,{children:a.map((function(e,n){var a=e.type,o=e.name;return(0,l.jsx)("td",{"data-cell":"".concat(c[n]),style:{position:"relative"},className:"".concat(("solvent"===o||"finishDate"===o)&&"editForm__solventCellDisplay"),children:(0,l.jsxs)("div",{className:"editForm__inputWrapper",children:[(0,l.jsx)(E.Z,{label:"",type:a,name:o,value:Array.isArray(t[o])?t[o].join(", "):t[o],handleChange:r,handleKeyPress:function(e){return"solvent"===o&&function(e,t){t.length>6&&e.preventDefault()}(e,t[o])},containerClass:"editForm__textInputContainer",labelClass:"editForm__textInputLabel",inputClass:"editForm__textInput ".concat("solvent"===o&&"editForm__textInput--solvent")}),"solvent"===o&&(0,l.jsx)("div",{className:"editForm__printSolvent",children:(0,k.x)(t[o])}),(0,l.jsx)("div",{className:"editForm__error",children:i()[o]})]})},o)}))})},U=function(){var e=(0,o.I0)(),t=(0,c.bY)(void 0),n=t.data,r=(t.error,t.isLoading,(0,o.v9)((function(e){return e.tableReactions}))),a=r.printReactions,d=r.requestState;(0,i.useEffect)((function(){e((0,s.Ym)(n))}),[n,e]);return(0,l.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map((function(e,t){return(0,l.jsxs)("tr",{className:(n=null===e||void 0===e?void 0:e.id,d.edit.isLoading&&d.id===n||d.edit.isError&&d.id===n||d.delete.isLoading&&d.id===n?"httpLoadingInRow":d.delete.isError&&d.id===n?"httpErrorInRow":""),children:[(0,l.jsx)("td",{"data-cell":"nr: ",children:t+1}),e.isEdit?(0,l.jsx)(A,{}):(0,l.jsx)(I,{reaction:e}),(0,l.jsx)(y,{reaction:e})]},e.id);var n}))})},T=["Nazwa","Roztw\xf3r","Technika","Alkaloidy","Mole","Warunki","Atmosfera"],Z=["Otwarcie","Zamkni\u0119cie","Pocz\u0105tek","Koniec"],z=function(){var e=(0,o.v9)((function(e){return e.tableReactions.toggleTable})).isOpen;return(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"nr"}),e?T.map((function(e){return(0,l.jsx)("th",{children:e},e)})):Z.map((function(e){return(0,l.jsx)("th",{children:e},crypto.randomUUID())})),(0,l.jsx)("th",{})]})})},D=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.tableReactions})),n=t.printReactions,i=t.editedReaction,r=(0,o.v9)((function(e){return e.tableReactions.toggleTable})).isOpen,a=(0,b.Y)(i).validationForm,c=i.isEdit&&(a().name||a().technics||a().alcaloids||a().selectMilimolles||a().solvent||a().selectReactionCondition||a().atmosphere)?{color:"rgb(251, 0, 0)",text:"Uzupe\u0142nij"}:{color:"rgb(0 0 0)",text:"Parametry"},d=i.isEdit&&(a().startDate||a().finishDate||a().startTime||a().finishTime)?{color:"rgb(251, 0, 0)",text:"Uzupe\u0142nij"}:{color:"rgb(0 0 0)",text:"Czasy"};return(0,l.jsxs)("section",{className:"wrapper tableReactions__headers",children:[(0,l.jsx)("div",{onClick:function(){return e((0,s.bk)(!0))},style:{color:c.color,backgroundColor:"".concat(r?"rgb(142,151,164)":"rgb(255 255 255)")},className:"tableReactions__header",children:c.text}),(0,l.jsx)("div",{onClick:function(){return e((0,s.bk)(!1))},style:{color:d.color,backgroundColor:"".concat(r?"rgb(255 255 255)":"rgb(142,151,164)")},className:"tableReactions__header",children:d.text}),(0,l.jsx)("div",{className:"tableReactions__header  tableReactions__header--counter ",children:n.length>0?"Liczba reakcji: ".concat(n.length):""})]})},L=function(e){return(0,l.jsx)("table",{className:"wrapper tableReactions__table",children:e.children})},F=function(){var e=(0,r.s0)();return(0,i.useEffect)((function(){a.I.onAuthStateChanged((function(t){!t&&e("/")}))}),[]),(0,l.jsxs)("main",{className:"tableReactions__main",children:[(0,l.jsx)(D,{}),(0,l.jsxs)(L,{children:[(0,l.jsx)(z,{}),(0,l.jsx)(U,{})]})]})}}}]);
//# sourceMappingURL=518.9b986cf0.chunk.js.map