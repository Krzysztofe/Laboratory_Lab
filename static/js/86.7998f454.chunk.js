"use strict";(self.webpackChunklaboratory_lab=self.webpackChunklaboratory_lab||[]).push([[86],{1277:function(e,a,n){n.d(a,{Y:function(){return s}});var t=function(e){return Array.isArray(e)?e.join(", "):e},s=function(e,a){var n=[[{condition:(null===e||void 0===e?void 0:e.name.trim().length)<6,errorMessage:"Min. 6 znak\xf3w",key:"name"},{condition:(null===e||void 0===e?void 0:e.name.trim().length)>10,errorMessage:"Max. 10 znak\xf3w",key:"name"},{condition:isNaN(+e.selectMilimolles)||+e.selectMilimolles<1||+e.selectMilimolles>6,errorMessage:"Podaj liczb\u0119: 1-6",key:"selectMilimolles"},{condition:"GRAMINA"!==e.alcaloids.trim().toUpperCase()&&"KOFEINA"!==e.alcaloids.trim().toUpperCase()&&"NIKOTYNA"!==e.alcaloids.trim().toUpperCase(),errorMessage:"Podaj alkaloid",key:"alcaloids"},{condition:e.technics.trim().length<3,errorMessage:"Min. 3 znaki",key:"technics"},{condition:e.technics.trim().length>10,errorMessage:"Max. 10 znak\xf3w",key:"technics"}],[{condition:!t(e.solvents).trim().toLocaleUpperCase().includes("CH3OH")&&!t(e.solvents).trim().toLocaleUpperCase().includes("DMSO")&&!t(e.solvents).trim().toLocaleUpperCase().includes("DMF")&&!t(e.solvents).trim().toLocaleUpperCase().includes("CHCL3")&&!t(e.solvents).trim().toLocaleUpperCase().includes("C2H5OH"),errorMessage:"Rozp. z listy",key:"solvents"},{condition:"MIESZANIE"!==e.selectReactionCondition.trim().toUpperCase()&&"OGRZEWANIE"!==e.selectReactionCondition.trim().toUpperCase()&&"MIKROFALA"!==e.selectReactionCondition.trim().toUpperCase()&&"CH\u0141ODZENIE"!==e.selectReactionCondition.trim().toUpperCase(),errorMessage:"Podaj warunki",key:"selectReactionCondition"},{condition:e.substract.trim().length<3,errorMessage:"Min. 3 znaki",key:"substract"},{condition:e.substract.trim().length>10,errorMessage:"Max. 10 znak\xf3w",key:"substract"}],[{condition:!e.startDate,errorMessage:"Wymagane",key:"startDate"},{condition:!e.finishDate,errorMessage:"Wymagane",key:"finishDate"},{condition:new Date(e.startDate)>new Date(e.finishDate),errorMessage:"Data po rozpocz\u0119ciu",key:"finishDate"},{condition:!e.startTime,errorMessage:"Wymagane",key:"startTime"},{condition:!e.finishTime,errorMessage:"Wymagane",key:"finishTime"}]];return{validationForm:function(){var e={};return(void 0===a?n.flat():n[a]).forEach((function(a){var n=a.condition,t=a.errorMessage,s=a.key;n&&(e[s]=t)})),e}}}},5954:function(e,a,n){var t=n(184);a.Z=function(e){return(0,t.jsx)("div",{className:e.className,children:e.message})}},4086:function(e,a,n){n.r(a),n.d(a,{default:function(){return M}});var t=n(4165),s=n(5861),i=n(1413),r=n(9439),l=n(2791),c=n(485),o={name:"AH - ",selectMilimolles:"--Wybierz--",alcaloids:"",technics:"",solvents:[],selectReactionCondition:"--Wybierz--",substract:"",startDate:"",finishDate:"",startTime:"",finishTime:"",isEdit:!0},u=function(e){var a=(0,l.useState)(0),n=(0,r.Z)(a,2),t=n[0],s=n[1];return{currentStepIdx:t,setCurrentStepIdx:s,step:e[t],steps:e,isFirstStep:0===t,isLastStep:t===e.length-1,next:function(){s((function(a){return a>=e.length-1?1:a+1}))},back:function(){s((function(e){return e<=0?1:e-1}))}}},d=n(750),m=n(184),h=function(e){return(0,m.jsxs)("div",{className:e.containerClass,children:[(0,m.jsx)("input",{type:"radio",name:e.name,value:e.value,checked:e.checked,onChange:e.handleChange,className:e.inuptClass,id:e.value}),(0,m.jsx)("label",{htmlFor:e.value,className:e.labelClass,children:e.value})]})},p=function(e){var a=(0,l.useState)(!1),n=(0,r.Z)(a,2),t=n[0],s=n[1],i=function(){s((function(e){return!e}))};return(0,m.jsxs)("div",{className:e.containerClass,children:[(0,m.jsx)("label",{className:e.labelClass,children:e.label}),(0,m.jsxs)("div",{className:e.optionsContainerClass,children:[(0,m.jsxs)("div",{onClick:i,className:e.inputTopClass,children:[e.value,(0,m.jsx)("div",{className:t?"select__arrow--up":"select__arrow"})]}),t&&(0,m.jsx)(m.Fragment,{children:e.selectValues.map((function(a){return(0,m.jsx)("div",{className:e.optionClass,onClick:function(){e.handleChange(a),i()},children:a},a)}))})]})]})},_=n(8816),x=["Gramina","Kofeina","Nikotyna"],C=function(e){var a=function(a){return e.handleChange({alcaloids:a.target.value})};return(0,m.jsxs)(d.E.section,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,m.jsx)(_.Z,{type:"text",name:"name",value:e.reaction.name,handleChange:function(a){return e.handleChange({name:a.target.value})},label:"Nazwa reakcji",placeholder:"Nazwa",containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,m.jsx)("div",{className:"reaction__error",children:(0,m.jsx)("small",{children:e.errors.name})}),(0,m.jsx)(p,{label:"Ilo\u015b\u0107 moli substratu",inputName:"selectMilimolles",selectValues:["1","2","3","4","5","6"],value:e.reaction.selectMilimolles,handleChange:function(a){e.handleChange({selectMilimolles:a})},containerClass:"reaction__selectContainer",labelClass:"reaction__selectLabel",inputTopClass:"reaction__selectTop",optionsContainerClass:"reaction__selectOptionsContainer",optionClass:"reaction__selectOption"}),(0,m.jsx)("div",{className:"reaction__error",children:(0,m.jsx)("small",{children:e.errors.selectMilimolles})}),(0,m.jsx)("p",{className:"reaction__radioInputHeader",children:"Alkaloid"}),x.map((function(n){return(0,m.jsx)(h,{value:n,name:"alcaloids",handleChange:a,checked:e.reaction.alcaloids===n,containerClass:"reaction__radioContainer",inuptClass:"reaction__radioInput",labelClass:"reaction__radioLabel"},n)})),(0,m.jsx)("div",{className:"reaction__error",children:(0,m.jsx)("small",{children:e.errors.alcaloids})}),(0,m.jsx)(_.Z,{type:"text",name:"technics",value:e.reaction.technics,handleChange:function(a){return e.handleChange({technics:a.target.value})},label:"Technika",placeholder:"Technika",containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,m.jsx)("div",{className:"reaction__error",children:(0,m.jsx)("small",{children:e.errors.technics})})]})},f=n(3433),j=function(e){var a=e.labelTransform?e.labelTransform(e.name):e.name;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("label",{className:e.labelClass,children:[(0,m.jsx)("input",{type:"checkbox",name:e.name,checked:e.checked,onChange:e.handleChange,className:e.inputClass}),(0,m.jsx)("div",{className:e.styleClass,children:a})]})})},b=[{name:"CHCL3",key:0},{name:"CH3OH",key:1},{name:"DMF",key:2},{name:"DMSO",key:3},{name:"C2H5OH",key:4}],v=function(e){var a=(0,l.useState)([!1,!1,!1,!1,!1]),n=(0,r.Z)(a,2),t=n[0],s=n[1];(0,l.useEffect)((function(){var a=(0,f.Z)(t);b.forEach((function(n,t){a[t]=e.reaction.solvents.includes(n.name)})),s(a)}),[e.reaction.solvents]);return(0,m.jsxs)(d.E.div,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,m.jsx)("p",{className:"reaction__checkboxesHeader",children:"Rozpuszczalnik"}),(0,m.jsxs)("div",{className:"reaction__checkboxecContainer",children:[b.map((function(a){var n=a.name,i=a.key;return(0,m.jsx)(j,{name:n,checked:t[i],handleChange:function(){return function(a,n){var i=(0,f.Z)(t);i[a]=!i[a],s(i);var r=i.reduce((function(e,a,n){return a&&e.push(b[n].name),e}),[]);e.handleChange({solvents:r})}(i)},labelClass:"reaction__checkboxLabel",inputClass:"reaction__checkboxInput",styleClass:"reaction__checkboxStyle",labelTransform:function(e){return e.split("").map((function(e){return isNaN(Number(e))?e:(0,m.jsx)("small",{className:"numberInCheckbox",children:e},crypto.randomUUID())}))}},i)})),(0,m.jsx)("div",{className:"reaction__checkboxLabel"})]}),(0,m.jsx)("div",{className:"reaction__error",children:(0,m.jsx)("small",{children:e.errors.solvents})}),(0,m.jsx)(p,{label:"Warunki reakcji",inputName:"selectReactionCondition",selectValues:["mieszanie","ogrzewanie","mikrofala","ch\u0142odzenie"],value:e.reaction.selectReactionCondition,handleChange:function(a){e.handleChange({selectReactionCondition:a})},containerClass:"reaction__selectContainer",labelClass:"reaction__selectLabel",inputTopClass:"reaction__selectTop",optionsContainerClass:"reaction__selectOptionsContainer",optionClass:"reaction__selectOption"}),(0,m.jsx)("div",{className:"reaction__error",children:(0,m.jsx)("small",{children:e.errors.selectReactionCondition})}),(0,m.jsx)(_.Z,{type:"text",name:"substract",value:e.reaction.substract,handleChange:function(a){e.handleChange({substract:a.target.value})},label:"Substrat",placeholder:"Substrat",containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,m.jsx)("div",{className:"reaction__error",children:(0,m.jsx)("small",{children:e.errors.substract})})]})},y=function(e){return(0,m.jsxs)(d.E.section,{initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,m.jsx)(_.Z,{type:"date",name:"startDate",value:e.reaction.startDate,handleChange:function(a){return e.handleChange({startDate:a.target.value})},label:"Data rozpocz\u0119cia",containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,m.jsx)("div",{className:"reaction__error",children:(0,m.jsx)("small",{children:e.errors.startDate})}),(0,m.jsx)(_.Z,{type:"date",name:"finishDate",value:e.reaction.finishDate,handleChange:function(a){return e.handleChange({finishDate:a.target.value})},label:"Data uko\u0144czenia",containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,m.jsx)("div",{className:"reaction__error",children:(0,m.jsx)("small",{children:e.errors.finishDate})}),(0,m.jsx)(_.Z,{type:"time",name:"startTime",value:e.reaction.startTime,handleChange:function(a){return e.handleChange({startTime:a.target.value})},label:"Godzina rozpocz\u0119cia",containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,m.jsx)("div",{className:"reaction__error",children:(0,m.jsx)("small",{children:e.errors.startTime})}),(0,m.jsx)(_.Z,{type:"time",name:"finishTime",value:e.reaction.finishTime,handleChange:function(a){return e.handleChange({finishTime:a.target.value})},label:"Godzina zako\u0144czenia",containerClass:"reaction__textInputContainer",labelClass:"reaction__textInputLabel",inputClass:"reaction__textInput"}),(0,m.jsx)("div",{className:"reaction__error",children:(0,m.jsx)("small",{children:e.errors.finishTime})})]})},g=["Nazwa","Ilo\u015b\u0107 milimoli","Alkaloidy","Technika","Rozpuszczalniki","Warunki reakcji","Substract"],k=["Rozpocz\u0119cie","Zako\u0144czenie","Rozpocz\u0119cie","Zako\u0144czenie"],N=function(e){var a=Object.values(e.reaction);return(0,m.jsx)(d.E.section,{className:"step4",initial:{opacity:0,y:-40},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{className:"step4__subHeader",children:"Parametry:"}),a.slice(0,7).map((function(e,a){return(0,m.jsxs)("li",{className:"step4__reactionItem",children:[(0,m.jsxs)("div",{className:"step4__reactionProperty",children:[g[a],":\xa0"]}),(0,m.jsx)("div",{className:"step4__reactionValue",children:Array.isArray(e)?e.flat().join(", "):e})]},a)})),(0,m.jsx)("li",{className:"step4__subHeader",children:"Czasy:"}),a.slice(7,11).map((function(e,a){return(0,m.jsxs)("li",{className:"step4__reactionItem",children:[(0,m.jsxs)("div",{className:"step4__reactionProperty",children:[k[a],":data"]}),(0,m.jsx)("div",{className:"step4__reactionValue",children:e})]},a)}))]})})},z=n(1277),I=n(5954),M=function(){var e=(0,l.useState)(o),a=(0,r.Z)(e,2),n=a[0],d=a[1],h=(0,l.useState)({}),p=(0,r.Z)(h,2),_=p[0],x=p[1],f=(0,c.Os)(),j=(0,r.Z)(f,2),b=j[0],g=j[1],k=function(e){d((function(a){return(0,i.Z)((0,i.Z)({},a),e)}))},M=u([(0,m.jsx)(C,{reaction:n,handleChange:k,errors:_}),(0,m.jsx)(v,{reaction:n,handleChange:k,errors:_}),(0,m.jsx)(y,{reaction:n,handleChange:k,errors:_}),(0,m.jsx)(N,{reaction:n})]),D=M.steps,R=M.currentStepIdx,T=M.setCurrentStepIdx,Z=M.step,w=M.isFirstStep,S=M.isLastStep,L=M.back,O=M.next,H=3===R?void 0:R,E=(0,z.Y)(n,H).validationForm,A=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(a){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),x(E()),!Object.keys(E()).length){e.next=4;break}return e.abrupt("return");case 4:if(!S){e.next=9;break}return e.next=7,b(n);case 7:e.next=10;break;case 9:O();case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){var e;return g.isSuccess&&(e=setTimeout((function(){T(0),d(o),g.isSuccess=!1}),3e3)),function(){return clearTimeout(e)}}),[g.isSuccess,T,d]);var F=(0,m.jsxs)(m.Fragment,{children:[Z,(0,m.jsxs)("div",{className:"formReaction__btns",children:[!w&&(0,m.jsx)("button",{type:"button",onClick:L,className:"btn btn--formReaction",children:"Wr\xf3\u0107"}),(0,m.jsx)("button",{type:"submit",className:"btn btn--formReaction",children:S?"Wy\u015blij":"Dalej"})]})]});return g.error&&"error"in g.error&&(F=(0,m.jsx)(I.Z,{message:g.error.error,className:"formReaction__requestMessage"})),g.isLoading&&(F=(0,m.jsx)(I.Z,{message:(0,m.jsx)(m.Fragment,{children:" Wysy\u0142a... "}),className:"formReaction__requestMessage"})),g.isSuccess&&(F=(0,m.jsx)(I.Z,{message:(0,m.jsxs)(m.Fragment,{children:["Dane wys\u0142ane i zapisane ",(0,m.jsx)("br",{})," w li\u015bcie reakcji"]}),className:"formReaction__requestMessage"})),(0,m.jsxs)("main",{className:"formReaction",children:[(0,m.jsxs)("header",{className:"wrapper wrapper--formReactionHeader ",children:[(0,m.jsxs)("p",{className:"formReaction__stepIdx ",children:["Krok ",R+1,"/",D.length]}),(0,m.jsx)("h2",{className:"formReaction__topDescription",children:["Podstawowe reagenty","Techniki laboratoryjne","Przebieg reakcji","Podsumowanie"][R]})]}),(0,m.jsx)("form",{onSubmit:A,className:"wrapper formReaction__form",children:(0,m.jsx)("div",{className:"formReaction__opacity",children:(0,m.jsx)("div",{className:"formReaction__wrapper",children:F})})})]})}}}]);
//# sourceMappingURL=86.7998f454.chunk.js.map