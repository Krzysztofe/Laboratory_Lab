"use strict";(self.webpackChunklaboratory_lab=self.webpackChunklaboratory_lab||[]).push([[518],{1277:function(e,t,n){n.d(t,{Y:function(){return r}});var i=function(e){return Array.isArray(e)?e.join(", "):e},r=function(e,t){var n=[[{condition:(null===e||void 0===e?void 0:e.name.trim().length)<6,errorMessage:"Min. 6 znak\xf3w",key:"name"},{condition:(null===e||void 0===e?void 0:e.name.trim().length)>10,errorMessage:"Max. 10 znak\xf3w",key:"name"},{condition:isNaN(+e.selectMilimolles)||+e.selectMilimolles<1||+e.selectMilimolles>6,errorMessage:"Podaj liczb\u0119: 1-6",key:"selectMilimolles"},{condition:"GRAMINA"!==e.alcaloids.trim().toUpperCase()&&"KOFEINA"!==e.alcaloids.trim().toUpperCase()&&"NIKOTYNA"!==e.alcaloids.trim().toUpperCase(),errorMessage:"Podaj alkaloid",key:"alcaloids"},{condition:e.technics.trim().length<3,errorMessage:"Min. 3 znaki",key:"technics"},{condition:e.technics.trim().length>10,errorMessage:"Max. 10 znak\xf3w",key:"technics"}],[{condition:!i(e.solvents).trim().toLocaleUpperCase().includes("CH3OH")&&!i(e.solvents).trim().toLocaleUpperCase().includes("DMSO")&&!i(e.solvents).trim().toLocaleUpperCase().includes("DMF")&&!i(e.solvents).trim().toLocaleUpperCase().includes("CHCL3")&&!i(e.solvents).trim().toLocaleUpperCase().includes("C2H5OH"),errorMessage:"Rozp. z listy",key:"solvents"},{condition:"MIESZANIE"!==e.selectReactionCondition.trim().toUpperCase()&&"OGRZEWANIE"!==e.selectReactionCondition.trim().toUpperCase()&&"MIKROFALA"!==e.selectReactionCondition.trim().toUpperCase()&&"CH\u0141ODZENIE"!==e.selectReactionCondition.trim().toUpperCase(),errorMessage:"Podaj warunki",key:"selectReactionCondition"},{condition:e.substract.trim().length<3,errorMessage:"Min. 3 znaki",key:"substract"},{condition:e.substract.trim().length>10,errorMessage:"Max. 10 znak\xf3w",key:"substract"}],[{condition:!e.startDate,errorMessage:"Wymagane",key:"startDate"},{condition:!e.finishDate,errorMessage:"Wymagane",key:"finishDate"},{condition:new Date(e.startDate)>new Date(e.finishDate),errorMessage:"Data po rozpocz\u0119ciu",key:"finishDate"},{condition:!e.startTime,errorMessage:"Wymagane",key:"startTime"},{condition:!e.finishTime,errorMessage:"Wymagane",key:"finishTime"}]];return{validationForm:function(){var e={};return(void 0===t?n.flat():n[t]).forEach((function(t){var n=t.condition,i=t.errorMessage,r=t.key;n&&(e[r]=i)})),e}}}},3518:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var i=n(2791),r=n(7689),a=n(4425),s=n(5048),o=n(1936),c=n(485),l=n(184),d=function(e){return(0,l.jsx)("tbody",{children:(0,l.jsx)("tr",{children:(0,l.jsx)("td",{style:{margin:"0px auto",width:"fit-content"},children:e.message})})})},u=n(4165),m=n(1413),p=n(5861),h=n(9439),f=n(8820),b=n(6355),x=n(6856),v=n(1277),g=function(e){var t=(0,s.I0)(),n=(0,s.v9)((function(e){return e.tableReactions})),r=n.editedReaction,a=n.printReactions,d=(0,v.Y)(r).validationForm,g=(0,c.gD)(),j=(0,h.Z)(g,2),y=j[0],k=j[1],R=(0,c.wF)(),C=(0,h.Z)(R,2),_=C[0],M=C[1];(0,i.useEffect)((function(){t((0,o.w8)(k.isLoading)),t((0,o.uJ)(k.isError))}),[k.isLoading,k.isError,t]);var N=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(n,i){var a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.keys(d()).length){e.next=2;break}return e.abrupt("return");case 2:return a=(0,m.Z)((0,m.Z)({},r),{},{isEdit:!0}),t((0,o.He)([n,i])),t((0,o.U6)()),e.next=7,y(a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t((0,o.qC)(n)),t((0,o.U6)()),!window.confirm("Chcesz usun\u0105\u0107 zapis?")){e.next=6;break}return e.next=6,_(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=(0,l.jsxs)(l.Fragment,{children:[e.reaction.isEdit?(0,l.jsx)("button",{onClick:function(){return function(e,n){t((0,o.fy)([e,n])),t((0,o.qC)(n))}(a,e.reaction.id)},className:"tableReactions__btn tableReactions__btn--edit",children:(0,l.jsx)(f.QML,{})}):(0,l.jsx)("button",{onClick:function(){return N(a,e.reaction.id)},className:"tableReactions__btn tableReactions__btn--edit",children:(0,l.jsx)(x.FTL,{})}),(0,l.jsx)("button",{onClick:function(){return w(e.reaction.id)},className:"tableReactions__btn tableReactions__btn--trash",children:(0,l.jsx)(b.AMf,{})})]});return M.isError&&(I=(0,l.jsx)("div",{className:"tableReactions__requestMessage",children:"B\u0142\u0105d"})),M.isLoading&&(I=(0,l.jsx)("div",{className:"tableReactions__requestMessage",children:"Usuwa..."})),(0,l.jsx)("td",{children:I})},j=n(3433),y=function(e){var t=Object.values(e).slice(0,8);return t.shift(),t},k=function(e){var t=Object.values(e),n=[t[0]].concat((0,j.Z)(t.slice(8,12)));return n.shift(),n},R=function(e){var t=(0,c.bY)(void 0),n=(t.error,t.isLoading,(0,c.gD)()),i=(0,h.Z)(n,2),r=(i[0],i[1]),a=(0,s.v9)((function(e){return e.tableReactions.toggleTable})).isOpen,o=(0,s.v9)((function(e){return e.tableReactions})),d=(o.printReactions,o.editRequestState,a?y:k);return(0,l.jsx)(l.Fragment,{children:d(e.reaction).map((function(e,t){return(0,l.jsx)("td",{className:r.error?"editError":"",children:6===t?(n=e,Array.isArray(n)?n.join(", "):n).split("").map((function(e){return isNaN(Number(e))?e:(0,l.jsx)("small",{className:"numberInCheckbox",children:e},crypto.randomUUID())})):e},crypto.randomUUID());var n}))})},C=n(8816),_=[{name:"name",type:"text"},{name:"technics",type:"text"},{name:"alcaloids",type:"text"},{name:"selectMilimolles",type:"text"},{name:"substract",type:"text"},{name:"selectReactionCondition",type:"text"},{name:"solvents",type:"text"}],M=[{name:"startDate",type:"date"},{name:"finishDate",type:"date"},{name:"startTime",type:"time"},{name:"finishTime",type:"time"}],N=function(){var e=(0,s.I0)(),t=(0,s.v9)((function(e){return e.tableReactions})).editedReaction,n=(0,s.v9)((function(e){return e.tableReactions.toggleTable})).isOpen,i=(0,c.Os)(),r=(0,h.Z)(i,2),a=(r[0],r[1]),d=(0,c.bY)(void 0),u=(d.error,d.isLoading,(0,v.Y)(t).validationForm),m=function(t){var n=t.target,i=n.name,r=n.value;e((0,o.Cp)([i,r]))},p=n?_:M;return(0,l.jsx)(l.Fragment,{children:p.map((function(e){var n=e.type,i=e.name;return(0,l.jsxs)("td",{style:{position:"relative"},children:[(0,l.jsx)(C.Z,{label:"",type:n,name:i,value:t[i],handleChange:m,containerClass:"editForm__textInputContainer ".concat(a.error&&"editError"),labelClass:"editForm__textInputLabel",inputClass:"editForm__textInput"}),(0,l.jsx)("div",{className:"editForm__error",children:(0,l.jsx)("small",{children:u()[i]})})]},i)}))})},w=function(){var e=(0,s.I0)(),t=(0,c.bY)(void 0),n=t.data,r=t.error,a=(t.isLoading,(0,s.v9)((function(e){return e.tableReactions}))),u=a.printReactions,m=a.editRequestState;if((0,i.useEffect)((function(){e((0,o.Ym)(n))}),[n,e]),r&&"error"in r)return(0,l.jsx)(d,{message:r.error});if(0===u.length)return(0,l.jsx)(d,{message:"Brak zapisanych reakcji"});return(0,l.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((function(e,t){return(0,l.jsxs)("tr",{className:(n=null===e||void 0===e?void 0:e.id,m.editIsLoading&&m.id===n?"httpLoadingInRow":m.editIsError&&m.id===n?"httpErrorInRow":""),children:[(0,l.jsx)("td",{children:t+1}),e.isEdit?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(R,{reaction:e})}):(0,l.jsx)(N,{}),(0,l.jsx)(g,{reaction:e})]},e.id);var n}))})},I=["Nazwa","Technika","Alkaloidy","Mole","Substrat","Warunki","Rozp."],E=["Otwarcie","Zamkni\u0119cie","Pocz\u0105tek","Koniec"],U=function(){var e=(0,s.v9)((function(e){return e.tableReactions.toggleTable})).isOpen;return(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"nr"}),e?I.map((function(e){return(0,l.jsx)("td",{children:e},e)})):E.map((function(e){return(0,l.jsx)("td",{children:e},crypto.randomUUID())})),(0,l.jsx)("td",{})]})})},D=function(){var e=(0,s.I0)(),t=(0,s.v9)((function(e){return e.tableReactions})),n=t.printReactions,i=t.editedReaction,r=(0,s.v9)((function(e){return e.tableReactions.toggleTable})).isOpen,a=(0,v.Y)(i).validationForm,c=!i.isEdit&&(a().name||a().technics||a().alcaloids||a().selectMilimolles||a().substract||a().selectReactionCondition||a().solvents)?{color:"red",text:"Uzupe\u0142nij"}:{color:"black",text:"Parametry"},d=!i.isEdit&&(a().startDate||a().finishDate||a().startTime||a().finishTime)?{color:"red",text:"Uzupe\u0142nij"}:{color:"black",text:"Czasy"};return(0,l.jsxs)("section",{className:"wrapper tableReactions__headers",children:[(0,l.jsx)("div",{onClick:function(){return e((0,o.bk)(!0))},style:{color:c.color,backgroundColor:"".concat(r?"rgb(142,151,164)":"rgb(255 255 255)")},className:"tableReactions__header",children:c.text}),(0,l.jsx)("div",{onClick:function(){return e((0,o.bk)(!1))},style:{color:d.color,backgroundColor:"".concat(r?"rgb(255 255 255)":"rgb(142,151,164)")},className:"tableReactions__header",children:d.text}),(0,l.jsx)("div",{className:"tableReactions__header  tableReactions__header--counter ",children:n.length>0?"Liczba reakcji: ".concat(n.length):""})]})},z=function(e){return(0,l.jsx)("table",{className:"wrapper tableReactions__table",children:e.children})},L=function(){var e=(0,r.s0)();return(0,i.useEffect)((function(){a.I.onAuthStateChanged((function(t){!t&&e("/")}))}),[]),(0,l.jsxs)("main",{className:"tableReactions__main",children:[(0,l.jsx)(D,{}),(0,l.jsxs)(z,{children:[(0,l.jsx)(U,{}),(0,l.jsx)(w,{})]})]})}}}]);
//# sourceMappingURL=518.63ab8c3f.chunk.js.map